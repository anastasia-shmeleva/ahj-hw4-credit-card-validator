(()=>{"use strict";var e,r,n,t,o,i,a,c={491:(e,r,n)=>{function t(e){let r;return e&&(e.match(/^(?:3[47][0-9]{13})$/)?r="American Express":e.match(/^(?:5[1-5]|222[1-9]|22[3-9][0-9]|2[3-6][0-9][0-9]|27[0-1][0-9]|2720)\d+$/)?r="MasterCard":e.match(/^(?:4[0-9]{12}(?:[0-9]{3})?)$/)?r="Visa":e.match(/^(?:6(?:011|5[0-9][0-9])[0-9]{12})$/)?r="Discover":e.match(/^(?:3(?:0[0-5]|[68][0-9])[0-9]{11})$/)?r="Diners Club":e.match(/^(?:(?:2131|1800|35\d{3})\d{11})$/)?r="JCB":e.match(/^(?:220[0-4])\d+$/)&&(r="MIR")),r}n(177);const o=document.querySelector("#widget-container"),i=new class{luhnAlgorithmCheck(e){let r=0,n=!1;for(let t=(e=e.replace(/\D/g,"")).length-1;t>=0;t--){let o=parseInt(e.charAt(t),10);n&&(o*=2)>9&&(o-=9),r+=o,n=!n}return r%10==0}};new class{constructor(e,r){this.parentEl=e,this.cardChecker=r,this.paySystemChecker=t}static get markup(){return'<div class="col-md-5">\n        <h3>Check your credit card number</h3>\n        <ul class="cards list-unstyled">\n            <li><span class="card visa" title="Visa">Visa</span></li>\n            <li><span class="card master" title="MasterCard">MasterCard</span></li>\n            <li><span class="card amex" title="American Express">American Express</span></li>\n            <li><span class="card discover" title="Discover">Discover</span></li>\n            <li><span class="card jcb" title="JCB">JCB</span></li>\n            <li><span class="card diners_club" title="Diners">Diners</span></li>\n            <li><span class="card mir" title="MIR">MIR</span></li>\n        </ul>\n        <form id="form" class="form-inline" novalidate="novalidate">\n            <div class="form-group">\n            <input class="form-control col-md-6" id="card_number" name="card_number" type="text" placeholder="Credit card number">\n            <a id="submitform" class="btn btn-success">Click to Validate</a> \n            </div>\n        </form>    \n    </div>'}static get inputSelector(){return"#card_number"}static get submitSelector(){return"#submitform"}bindToDOM(){this.parentEl.innerHTML=this.constructor.markup,this.parentEl.querySelector(this.constructor.submitSelector).addEventListener("click",(e=>this.onSubmit(e))),this.parentEl.querySelector(this.constructor.inputSelector).addEventListener("keydown",(e=>this.onKeyDown(e)))}onSubmit(){const e=this.parentEl.querySelector(this.constructor.inputSelector);e.classList.remove("valid","invalid"),!0===this.cardChecker.luhnAlgorithmCheck(e.value)?e.classList.add("valid"):e.classList.add("invalid");const r=this.paySystemChecker(e.value);this.insertDiv(r)}onKeyDown(){const e=this.parentEl.querySelector(".pay__system");e&&e.parentNode.removeChild(e)}insertDiv(e){this.parentEl.querySelector(".col-md-5").insertAdjacentHTML("beforeend",`<div class="pay__system">${e}</div>`)}}(o,i).bindToDOM()},783:(e,r,n)=>{var t=n(618),o=Object.create(null),i="undefined"==typeof document,a=Array.prototype.forEach;function c(){}function s(e,r){if(!r){if(!e.href)return;r=e.href.split("?")[0]}if(l(r)&&!1!==e.isLoaded&&r&&r.indexOf(".css")>-1){e.visited=!0;var n=e.cloneNode();n.isLoaded=!1,n.addEventListener("load",(function(){n.isLoaded=!0,e.parentNode.removeChild(e)})),n.addEventListener("error",(function(){n.isLoaded=!0,e.parentNode.removeChild(e)})),n.href="".concat(r,"?").concat(Date.now()),e.nextSibling?e.parentNode.insertBefore(n,e.nextSibling):e.parentNode.appendChild(n)}}function d(){var e=document.querySelectorAll("link");a.call(e,(function(e){!0!==e.visited&&s(e)}))}function l(e){return!!/^https?:/i.test(e)}e.exports=function(e,r){if(i)return console.log("no window.document found, will not HMR CSS"),c;var n,u,p=function(e){var r=o[e];if(!r){if(document.currentScript)r=document.currentScript.src;else{var n=document.getElementsByTagName("script"),i=n[n.length-1];i&&(r=i.src)}o[e]=r}return function(e){if(!r)return null;var n=r.split(/([^\\/]+)\.js$/),o=n&&n[1];return o&&e?e.split(",").map((function(e){var n=new RegExp("".concat(o,"\\.js$"),"g");return t(r.replace(n,"".concat(e.replace(/{fileName}/g,o),".css")))})):[r.replace(".js",".css")]}}(e);return n=function(){var e=p(r.filename),n=function(e){if(!e)return!1;var r=document.querySelectorAll("link"),n=!1;return a.call(r,(function(r){if(r.href){var o=function(e,r){var n;return e=t(e,{stripWWW:!1}),r.some((function(t){e.indexOf(r)>-1&&(n=t)})),n}(r.href,e);l(o)&&!0!==r.visited&&o&&(s(r,o),n=!0)}})),n}(e);if(r.locals)return console.log("[HMR] Detected local css modules. Reload all css"),void d();n?console.log("[HMR] css reload %s",e.join(" ")):(console.log("[HMR] Reload all css"),d())},50,u=0,function(){var e=this,r=arguments,t=function(){return n.apply(e,r)};clearTimeout(u),u=setTimeout(t,50)}}},618:e=>{e.exports=function(e){if(e=e.trim(),/^data:/i.test(e))return e;var r=-1!==e.indexOf("//")?e.split("//")[0]+"//":"",n=e.replace(new RegExp(r,"i"),"").split("/"),t=n[0].toLowerCase().replace(/\.$/,"");return n[0]="",r+t+n.reduce((function(e,r){switch(r){case"..":e.pop();break;case".":break;default:e.push(r)}return e}),[]).join("/")}},177:(e,r,n)=>{var t=n(783)(e.id,{locals:!1});e.hot.dispose(t),e.hot.accept(void 0,t)}},s={};function d(e){if(s[e])return s[e].exports;var r=s[e]={id:e,exports:{}},n={id:e,module:r,factory:c[e],require:d};return d.i.forEach((function(e){e(n)})),r=n.module,n.factory.call(r.exports,r,r.exports,n.require),r.exports}d.m=c,d.c=s,d.i=[],d.hu=e=>e+"."+d.h()+".hot-update.js",d.miniCssF=e=>"main.css",d.hmrF=()=>"main."+d.h()+".hot-update.json",d.h=()=>"4e46fa61977af1765b78",d.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),e={},r="ajs:",d.l=(n,t,o)=>{if(e[n])e[n].push(t);else{var i,a;if(void 0!==o)for(var c=document.getElementsByTagName("script"),s=0;s<c.length;s++){var l=c[s];if(l.getAttribute("src")==n||l.getAttribute("data-webpack")==r+o){i=l;break}}i||(a=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,d.nc&&i.setAttribute("nonce",d.nc),i.setAttribute("data-webpack",r+o),i.src=n),e[n]=[t];var u=(r,t)=>{i.onerror=i.onload=null,clearTimeout(p);var o=e[n];if(delete e[n],i.parentNode&&i.parentNode.removeChild(i),o&&o.forEach((e=>e(t))),r)return r(t)},p=setTimeout(u.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=u.bind(null,i.onerror),i.onload=u.bind(null,i.onload),a&&document.head.appendChild(i)}},(()=>{var e,r,n,t,o={},i=d.c,a=[],c=[],s="idle";function l(e){s=e;for(var r=0;r<c.length;r++)c[r].call(null,e)}function u(e){if(0===r.length)return e();var n=r;return r=[],Promise.all(n).then((function(){return u(e)}))}function p(e){if("idle"!==s)throw new Error("check() is only allowed in idle status");return l("check"),d.hmrM().then((function(t){if(!t)return l(m()?"ready":"idle"),null;l("prepare");var o=[];return r=[],n=[],Promise.all(Object.keys(d.hmrC).reduce((function(e,r){return d.hmrC[r](t.c,t.r,t.m,e,n,o),e}),[])).then((function(){return u((function(){return e?h(e):(l("ready"),o)}))}))}))}function f(e){return"ready"!==s?Promise.resolve().then((function(){throw new Error("apply() is only allowed in ready status")})):h(e)}function h(e){e=e||{},m();var r=n.map((function(r){return r(e)}));n=void 0;var o,i=r.map((function(e){return e.error})).filter(Boolean);if(i.length>0)return l("abort"),Promise.resolve().then((function(){throw i[0]}));l("dispose"),r.forEach((function(e){e.dispose&&e.dispose()})),l("apply");var a=function(e){o||(o=e)},c=[];return r.forEach((function(e){if(e.apply){var r=e.apply(a);if(r)for(var n=0;n<r.length;n++)c.push(r[n])}})),o?(l("fail"),Promise.resolve().then((function(){throw o}))):t?h(e).then((function(e){return c.forEach((function(r){e.indexOf(r)<0&&e.push(r)})),e})):(l("idle"),Promise.resolve(c))}function m(){if(t)return n||(n=[]),Object.keys(d.hmrI).forEach((function(e){t.forEach((function(r){d.hmrI[e](r,n)}))})),t=void 0,!0}d.hmrD=o,d.i.push((function(h){var m,v,y,g=h.module,b=function(n,t){var o=i[t];if(!o)return n;var c=function(r){if(o.hot.active){if(i[r]){var c=i[r].parents;-1===c.indexOf(t)&&c.push(t)}else a=[t],e=r;-1===o.children.indexOf(r)&&o.children.push(r)}else console.warn("[HMR] unexpected require("+r+") from disposed module "+t),a=[];return n(r)},d=function(e){return{configurable:!0,enumerable:!0,get:function(){return n[e]},set:function(r){n[e]=r}}};for(var p in n)Object.prototype.hasOwnProperty.call(n,p)&&"e"!==p&&Object.defineProperty(c,p,d(p));return c.e=function(e){return function(e){switch(s){case"ready":return l("prepare"),r.push(e),u((function(){l("ready")})),e;case"prepare":return r.push(e),e;default:return e}}(n.e(e))},c}(h.require,h.id);g.hot=(m=h.id,v=g,y={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:e!==m,_requireSelf:function(){a=v.parents.slice(),e=m,d(m)},active:!0,accept:function(e,r){if(void 0===e)y._selfAccepted=!0;else if("function"==typeof e)y._selfAccepted=e;else if("object"==typeof e&&null!==e)for(var n=0;n<e.length;n++)y._acceptedDependencies[e[n]]=r||function(){};else y._acceptedDependencies[e]=r||function(){}},decline:function(e){if(void 0===e)y._selfDeclined=!0;else if("object"==typeof e&&null!==e)for(var r=0;r<e.length;r++)y._declinedDependencies[e[r]]=!0;else y._declinedDependencies[e]=!0},dispose:function(e){y._disposeHandlers.push(e)},addDisposeHandler:function(e){y._disposeHandlers.push(e)},removeDisposeHandler:function(e){var r=y._disposeHandlers.indexOf(e);r>=0&&y._disposeHandlers.splice(r,1)},invalidate:function(){switch(this._selfInvalidated=!0,s){case"idle":n=[],Object.keys(d.hmrI).forEach((function(e){d.hmrI[e](m,n)})),l("ready");break;case"ready":Object.keys(d.hmrI).forEach((function(e){d.hmrI[e](m,n)}));break;case"prepare":case"check":case"dispose":case"apply":(t=t||[]).push(m)}},check:p,apply:f,status:function(e){if(!e)return s;c.push(e)},addStatusHandler:function(e){c.push(e)},removeStatusHandler:function(e){var r=c.indexOf(e);r>=0&&c.splice(r,1)},data:o[m]},e=void 0,y),g.parents=a,g.children=[],a=[],h.require=b})),d.hmrC={},d.hmrI={}})(),d.p="",n=(e,r,n,t)=>{var o=document.createElement("link");return o.rel="stylesheet",o.type="text/css",o.onerror=o.onload=i=>{if(o.onerror=o.onload=null,"load"===i.type)n();else{var a=i&&("load"===i.type?"missing":i.type),c=i&&i.target&&i.target.href||r,s=new Error("Loading CSS chunk "+e+" failed.\n("+c+")");s.code="CSS_CHUNK_LOAD_FAILED",s.type=a,s.request=c,o.parentNode.removeChild(o),t(s)}},o.href=r,document.head.appendChild(o),o},t=(e,r)=>{for(var n=document.getElementsByTagName("link"),t=0;t<n.length;t++){var o=(a=n[t]).getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(o===e||o===r))return a}var i=document.getElementsByTagName("style");for(t=0;t<i.length;t++){var a;if((o=(a=i[t]).getAttribute("data-href"))===e||o===r)return a}},o=[],i=[],a=e=>({dispose:()=>{for(var e=0;e<o.length;e++){var r=o[e];r.parentNode&&r.parentNode.removeChild(r)}o.length=0},apply:()=>{for(var e=0;e<i.length;e++)i[e].rel="stylesheet";i.length=0}}),d.hmrC.miniCss=(e,r,c,s,l,u)=>{l.push(a),e.forEach((e=>{var r=d.miniCssF(e),a=d.p+r;const c=t(r,a);c&&s.push(new Promise(((r,t)=>{var s=n(e,a,(()=>{s.as="style",s.rel="preload",r()}),t);o.push(c),i.push(s)})))}))},(()=>{var e,r,n,t,o={179:0},i={};function a(e){return new Promise(((r,n)=>{i[e]=r;var t=d.p+d.hu(e),o=new Error;d.l(t,(r=>{if(i[e]){i[e]=void 0;var t=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;o.message="Loading hot update chunk "+e+" failed.\n("+t+": "+a+")",o.name="ChunkLoadError",o.type=t,o.request=a,n(o)}}))}))}function c(i){function a(e){for(var r=[e],n={},t=r.map((function(e){return{chain:[e],id:e}}));t.length>0;){var o=t.pop(),i=o.id,a=o.chain,s=d.c[i];if(s&&(!s.hot._selfAccepted||s.hot._selfInvalidated)){if(s.hot._selfDeclined)return{type:"self-declined",chain:a,moduleId:i};if(s.hot._main)return{type:"unaccepted",chain:a,moduleId:i};for(var l=0;l<s.parents.length;l++){var u=s.parents[l],p=d.c[u];if(p){if(p.hot._declinedDependencies[i])return{type:"declined",chain:a.concat([u]),moduleId:i,parentId:u};-1===r.indexOf(u)&&(p.hot._acceptedDependencies[i]?(n[u]||(n[u]=[]),c(n[u],[i])):(delete n[u],r.push(u),t.push({chain:a.concat([u]),id:u})))}}}}return{type:"accepted",moduleId:e,outdatedModules:r,outdatedDependencies:n}}function c(e,r){for(var n=0;n<r.length;n++){var t=r[n];-1===e.indexOf(t)&&e.push(t)}}d.f&&delete d.f.jsonpHmr,e=void 0;var s={},l=[],u={},p=function(e){console.warn("[HMR] unexpected require("+e.id+") to disposed module")};for(var f in r)if(d.o(r,f)){var h,m=r[f],v=!1,y=!1,g=!1,b="";switch((h=m?a(f):{type:"disposed",moduleId:f}).chain&&(b="\nUpdate propagation: "+h.chain.join(" -> ")),h.type){case"self-declined":i.onDeclined&&i.onDeclined(h),i.ignoreDeclined||(v=new Error("Aborted because of self decline: "+h.moduleId+b));break;case"declined":i.onDeclined&&i.onDeclined(h),i.ignoreDeclined||(v=new Error("Aborted because of declined dependency: "+h.moduleId+" in "+h.parentId+b));break;case"unaccepted":i.onUnaccepted&&i.onUnaccepted(h),i.ignoreUnaccepted||(v=new Error("Aborted because "+f+" is not accepted"+b));break;case"accepted":i.onAccepted&&i.onAccepted(h),y=!0;break;case"disposed":i.onDisposed&&i.onDisposed(h),g=!0;break;default:throw new Error("Unexception type "+h.type)}if(v)return{error:v};if(y)for(f in u[f]=m,c(l,h.outdatedModules),h.outdatedDependencies)d.o(h.outdatedDependencies,f)&&(s[f]||(s[f]=[]),c(s[f],h.outdatedDependencies[f]));g&&(c(l,[h.moduleId]),u[f]=p)}r=void 0;for(var E,w=[],D=0;D<l.length;D++){var _=l[D];d.c[_]&&d.c[_].hot._selfAccepted&&u[_]!==p&&!d.c[_].hot._selfInvalidated&&w.push({module:_,require:d.c[_].hot._requireSelf,errorHandler:d.c[_].hot._selfAccepted})}return{dispose:function(){var e;n.forEach((function(e){delete o[e]})),n=void 0;for(var r,t=l.slice();t.length>0;){var i=t.pop(),a=d.c[i];if(a){var c={},u=a.hot._disposeHandlers;for(D=0;D<u.length;D++)u[D].call(null,c);for(d.hmrD[i]=c,a.hot.active=!1,delete d.c[i],delete s[i],D=0;D<a.children.length;D++){var p=d.c[a.children[D]];p&&(e=p.parents.indexOf(i))>=0&&p.parents.splice(e,1)}}}for(var f in s)if(d.o(s,f)&&(a=d.c[f]))for(E=s[f],D=0;D<E.length;D++)r=E[D],(e=a.children.indexOf(r))>=0&&a.children.splice(e,1)},apply:function(e){for(var r in u)d.o(u,r)&&(d.m[r]=u[r]);for(var n=0;n<t.length;n++)t[n](d);for(var o in s)if(d.o(s,o)){var a=d.c[o];if(a){E=s[o];for(var c=[],p=[],f=0;f<E.length;f++){var h=E[f],m=a.hot._acceptedDependencies[h];if(m){if(-1!==c.indexOf(m))continue;c.push(m),p.push(h)}}for(var v=0;v<c.length;v++)try{c[v].call(null,E)}catch(r){i.onErrored&&i.onErrored({type:"accept-errored",moduleId:o,dependencyId:p[v],error:r}),i.ignoreErrored||e(r)}}}for(var y=0;y<w.length;y++){var g=w[y],b=g.module;try{g.require(b)}catch(r){if("function"==typeof g.errorHandler)try{g.errorHandler(r)}catch(n){i.onErrored&&i.onErrored({type:"self-accept-error-handler-errored",moduleId:b,error:n,originalError:r}),i.ignoreErrored||e(n),e(r)}else i.onErrored&&i.onErrored({type:"self-accept-errored",moduleId:b,error:r}),i.ignoreErrored||e(r)}}return l}}}self.webpackHotUpdateajs=(e,n,o)=>{for(var a in n)d.o(n,a)&&(r[a]=n[a]);o&&t.push(o),i[e]&&(i[e](),i[e]=void 0)},d.hmrI.jsonp=function(e,o){r||(r={},t=[],n=[],o.push(c)),d.o(r,e)||(r[e]=d.m[e])},d.hmrC.jsonp=function(i,s,l,u,p,f){p.push(c),e={},n=s,r=l.reduce((function(e,r){return e[r]=!1,e}),{}),t=[],i.forEach((function(r){d.o(o,r)&&void 0!==o[r]&&(u.push(a(r)),e[r]=!0)})),d.f&&(d.f.jsonpHmr=function(r,n){e&&!d.o(e,r)&&d.o(o,r)&&void 0!==o[r]&&(n.push(a(r)),e[r]=!0)})},d.hmrM=()=>{if("undefined"==typeof fetch)throw new Error("No browser support: need fetch API");return fetch(d.p+d.hmrF()).then((e=>{if(404!==e.status){if(!e.ok)throw new Error("Failed to fetch update manifest "+e.statusText);return e.json()}}))}})(),d(491)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hanMvd2VicGFjay9ydW50aW1lL2xvYWQgc2NyaXB0Iiwid2VicGFjazovL2Fqcy93ZWJwYWNrL3J1bnRpbWUvY3NzIGxvYWRpbmciLCJ3ZWJwYWNrOi8vYWpzLy4vc3JjL2pzL3BheVN5c3RlbUNoZWNrZXIuanMiLCJ3ZWJwYWNrOi8vYWpzLy4vc3JjL2pzL2FwcC5qcyIsIndlYnBhY2s6Ly9hanMvLi9zcmMvanMvQ2FyZENoZWNrZXIuanMiLCJ3ZWJwYWNrOi8vYWpzLy4vc3JjL2pzL1dpZGdldC5qcyIsIndlYnBhY2s6Ly9hanMvLi9ub2RlX21vZHVsZXMvbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4vZGlzdC9obXIvaG90TW9kdWxlUmVwbGFjZW1lbnQuanMiLCJ3ZWJwYWNrOi8vYWpzLy4vbm9kZV9tb2R1bGVzL21pbmktY3NzLWV4dHJhY3QtcGx1Z2luL2Rpc3QvaG1yL25vcm1hbGl6ZS11cmwuanMiLCJ3ZWJwYWNrOi8vYWpzLy4vc3JjL2Nzcy9zdHlsZS5jc3M/NmI3YiIsIndlYnBhY2s6Ly9hanMvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vYWpzL3dlYnBhY2svcnVudGltZS9nZXQgamF2YXNjcmlwdCB1cGRhdGUgY2h1bmsgZmlsZW5hbWUiLCJ3ZWJwYWNrOi8vYWpzL3dlYnBhY2svcnVudGltZS9nZXQgbWluaS1jc3MgY2h1bmsgZmlsZW5hbWUiLCJ3ZWJwYWNrOi8vYWpzL3dlYnBhY2svcnVudGltZS9nZXQgdXBkYXRlIG1hbmlmZXN0IGZpbGVuYW1lIiwid2VicGFjazovL2Fqcy93ZWJwYWNrL3J1bnRpbWUvZ2V0RnVsbEhhc2giLCJ3ZWJwYWNrOi8vYWpzL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vYWpzL3dlYnBhY2svcnVudGltZS9ob3QgbW9kdWxlIHJlcGxhY2VtZW50Iiwid2VicGFjazovL2Fqcy93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly9hanMvd2VicGFjay9ydW50aW1lL2pzb25wIGNodW5rIGxvYWRpbmciLCJ3ZWJwYWNrOi8vYWpzL3dlYnBhY2svc3RhcnR1cCJdLCJuYW1lcyI6WyJpblByb2dyZXNzIiwiZGF0YVdlYnBhY2tQcmVmaXgiLCJjcmVhdGVTdHlsZXNoZWV0IiwiZmluZFN0eWxlc2hlZXQiLCJvbGRUYWdzIiwibmV3VGFncyIsImFwcGx5SGFuZGxlciIsInBheVN5c3RlbUNoZWNrZXIiLCJpbnB1dCIsInRleHQiLCJtYXRjaCIsImNvbnRhaW5lciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNhcmRDaGVja2VyIiwibHVobkFsZ29yaXRobUNoZWNrIiwidmFsdWUiLCJuQ2hlY2siLCJiRXZlbiIsIm4iLCJyZXBsYWNlIiwibGVuZ3RoIiwibkRpZ2l0IiwicGFyc2VJbnQiLCJjaGFyQXQiLCJjb25zdHJ1Y3RvciIsInBhcmVudEVsIiwidGhpcyIsImJpbmRUb0RPTSIsImlubmVySFRNTCIsIm1hcmt1cCIsInN1Ym1pdFNlbGVjdG9yIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2dCIsIm9uU3VibWl0IiwiaW5wdXRTZWxlY3RvciIsIm9uS2V5RG93biIsImlucHV0RWwiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJhZGQiLCJpbnNlcnREaXYiLCJwYXlTeXN0ZW0iLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJpbnNlcnRBZGphY2VudEhUTUwiLCJub3JtYWxpemVVcmwiLCJzcmNCeU1vZHVsZUlkIiwiT2JqZWN0IiwiY3JlYXRlIiwibm9Eb2N1bWVudCIsImZvckVhY2giLCJBcnJheSIsInByb3RvdHlwZSIsIm5vb3AiLCJ1cGRhdGVDc3MiLCJlbCIsInVybCIsImhyZWYiLCJzcGxpdCIsImlzVXJsUmVxdWVzdCIsImlzTG9hZGVkIiwiaW5kZXhPZiIsInZpc2l0ZWQiLCJuZXdFbCIsImNsb25lTm9kZSIsImNvbmNhdCIsIkRhdGUiLCJub3ciLCJuZXh0U2libGluZyIsImluc2VydEJlZm9yZSIsImFwcGVuZENoaWxkIiwicmVsb2FkQWxsIiwiZWxlbWVudHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiY2FsbCIsInRlc3QiLCJtb2R1bGUiLCJleHBvcnRzIiwibW9kdWxlSWQiLCJvcHRpb25zIiwiY29uc29sZSIsImxvZyIsImZuIiwidGltZW91dCIsImdldFNjcmlwdFNyYyIsInNyYyIsImN1cnJlbnRTY3JpcHQiLCJzY3JpcHRzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJsYXN0U2NyaXB0VGFnIiwiZmlsZU1hcCIsInNwbGl0UmVzdWx0IiwiZmlsZW5hbWUiLCJtYXAiLCJtYXBSdWxlIiwicmVnIiwiUmVnRXhwIiwiZ2V0Q3VycmVudFNjcmlwdFVybCIsInJlbG9hZGVkIiwibG9hZGVkIiwicmV0Iiwic3RyaXBXV1ciLCJzb21lIiwiZ2V0UmVsb2FkVXJsIiwicmVsb2FkU3R5bGUiLCJsb2NhbHMiLCJqb2luIiwic2VsZiIsImFyZ3MiLCJhcmd1bWVudHMiLCJmdW5jdGlvbkNhbGwiLCJhcHBseSIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJ1cmxTdHJpbmciLCJ0cmltIiwicHJvdG9jb2wiLCJjb21wb25lbnRzIiwiaG9zdCIsInRvTG93ZXJDYXNlIiwicmVkdWNlIiwiYWNjdW11bGF0b3IiLCJpdGVtIiwicG9wIiwicHVzaCIsImNzc1JlbG9hZCIsImlkIiwiaG90IiwiZGlzcG9zZSIsImFjY2VwdCIsInVuZGVmaW5lZCIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJleGVjT3B0aW9ucyIsImZhY3RvcnkiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwicmVxdWlyZSIsImkiLCJoYW5kbGVyIiwibSIsImMiLCJodSIsImNodW5rSWQiLCJoIiwibWluaUNzc0YiLCJobXJGIiwibyIsIm9iaiIsInByb3AiLCJoYXNPd25Qcm9wZXJ0eSIsImwiLCJkb25lIiwia2V5Iiwic2NyaXB0IiwibmVlZEF0dGFjaCIsInMiLCJnZXRBdHRyaWJ1dGUiLCJjcmVhdGVFbGVtZW50IiwiY2hhcnNldCIsIm5jIiwic2V0QXR0cmlidXRlIiwib25TY3JpcHRDb21wbGV0ZSIsInByZXYiLCJldmVudCIsIm9uZXJyb3IiLCJvbmxvYWQiLCJkb25lRm5zIiwiYmluZCIsInR5cGUiLCJ0YXJnZXQiLCJoZWFkIiwiY3VycmVudENoaWxkTW9kdWxlIiwiYmxvY2tpbmdQcm9taXNlcyIsImN1cnJlbnRVcGRhdGVBcHBseUhhbmRsZXJzIiwicXVldWVkSW52YWxpZGF0ZWRNb2R1bGVzIiwiY3VycmVudE1vZHVsZURhdGEiLCJpbnN0YWxsZWRNb2R1bGVzIiwiY3VycmVudFBhcmVudHMiLCJyZWdpc3RlcmVkU3RhdHVzSGFuZGxlcnMiLCJjdXJyZW50U3RhdHVzIiwic2V0U3RhdHVzIiwibmV3U3RhdHVzIiwid2FpdEZvckJsb2NraW5nUHJvbWlzZXMiLCJibG9ja2VyIiwiUHJvbWlzZSIsImFsbCIsInRoZW4iLCJob3RDaGVjayIsImFwcGx5T25VcGRhdGUiLCJFcnJvciIsImhtck0iLCJ1cGRhdGUiLCJhcHBseUludmFsaWRhdGVkTW9kdWxlcyIsInVwZGF0ZWRNb2R1bGVzIiwia2V5cyIsImhtckMiLCJwcm9taXNlcyIsInIiLCJpbnRlcm5hbEFwcGx5IiwiaG90QXBwbHkiLCJyZXNvbHZlIiwicmVzdWx0cyIsImVycm9yIiwiZXJyb3JzIiwiZmlsdGVyIiwiQm9vbGVhbiIsInJlc3VsdCIsInJlcG9ydEVycm9yIiwiZXJyIiwib3V0ZGF0ZWRNb2R1bGVzIiwibW9kdWxlcyIsImxpc3QiLCJobXJJIiwiaG1yRCIsIm1lIiwicmVxdWVzdCIsImFjdGl2ZSIsInBhcmVudHMiLCJjaGlsZHJlbiIsIndhcm4iLCJjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IiLCJuYW1lIiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsImdldCIsInNldCIsImRlZmluZVByb3BlcnR5IiwiZSIsInByb21pc2UiLCJ0cmFja0Jsb2NraW5nUHJvbWlzZSIsImNyZWF0ZVJlcXVpcmUiLCJfYWNjZXB0ZWREZXBlbmRlbmNpZXMiLCJfZGVjbGluZWREZXBlbmRlbmNpZXMiLCJfc2VsZkFjY2VwdGVkIiwiX3NlbGZEZWNsaW5lZCIsIl9zZWxmSW52YWxpZGF0ZWQiLCJfZGlzcG9zZUhhbmRsZXJzIiwiX21haW4iLCJfcmVxdWlyZVNlbGYiLCJzbGljZSIsImRlcCIsImNhbGxiYWNrIiwiZGVjbGluZSIsImFkZERpc3Bvc2VIYW5kbGVyIiwicmVtb3ZlRGlzcG9zZUhhbmRsZXIiLCJpZHgiLCJzcGxpY2UiLCJpbnZhbGlkYXRlIiwiY2hlY2siLCJzdGF0dXMiLCJhZGRTdGF0dXNIYW5kbGVyIiwicmVtb3ZlU3RhdHVzSGFuZGxlciIsImRhdGEiLCJwIiwiZnVsbGhyZWYiLCJyZWplY3QiLCJsaW5rVGFnIiwicmVsIiwiZXJyb3JUeXBlIiwicmVhbEhyZWYiLCJjb2RlIiwiZXhpc3RpbmdMaW5rVGFncyIsImRhdGFIcmVmIiwidGFnIiwiZXhpc3RpbmdTdHlsZVRhZ3MiLCJvbGRUYWciLCJtaW5pQ3NzIiwiY2h1bmtJZHMiLCJyZW1vdmVkQ2h1bmtzIiwicmVtb3ZlZE1vZHVsZXMiLCJhcHBseUhhbmRsZXJzIiwidXBkYXRlZE1vZHVsZXNMaXN0IiwiYXMiLCJjdXJyZW50VXBkYXRlQ2h1bmtzIiwiY3VycmVudFVwZGF0ZSIsImN1cnJlbnRVcGRhdGVSZW1vdmVkQ2h1bmtzIiwiY3VycmVudFVwZGF0ZVJ1bnRpbWUiLCJpbnN0YWxsZWRDaHVua3MiLCIxNzkiLCJ3YWl0aW5nVXBkYXRlUmVzb2x2ZXMiLCJsb2FkVXBkYXRlQ2h1bmsiLCJyZWFsU3JjIiwibWVzc2FnZSIsImdldEFmZmVjdGVkTW9kdWxlRWZmZWN0cyIsInVwZGF0ZU1vZHVsZUlkIiwib3V0ZGF0ZWREZXBlbmRlbmNpZXMiLCJxdWV1ZSIsImNoYWluIiwicXVldWVJdGVtIiwicGFyZW50SWQiLCJwYXJlbnQiLCJhZGRBbGxUb1NldCIsImEiLCJiIiwiZiIsImpzb25wSG1yIiwiYXBwbGllZFVwZGF0ZSIsIndhcm5VbmV4cGVjdGVkUmVxdWlyZSIsIm5ld01vZHVsZUZhY3RvcnkiLCJhYm9ydEVycm9yIiwiZG9BcHBseSIsImRvRGlzcG9zZSIsImNoYWluSW5mbyIsIm9uRGVjbGluZWQiLCJpZ25vcmVEZWNsaW5lZCIsIm9uVW5hY2NlcHRlZCIsImlnbm9yZVVuYWNjZXB0ZWQiLCJvbkFjY2VwdGVkIiwib25EaXNwb3NlZCIsIm1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzIiwib3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzIiwiaiIsIm91dGRhdGVkTW9kdWxlSWQiLCJlcnJvckhhbmRsZXIiLCJkZXBlbmRlbmN5IiwiZGlzcG9zZUhhbmRsZXJzIiwiY2hpbGQiLCJjYWxsYmFja3MiLCJkZXBlbmRlbmNpZXNGb3JDYWxsYmFja3MiLCJhY2NlcHRDYWxsYmFjayIsImsiLCJvbkVycm9yZWQiLCJkZXBlbmRlbmN5SWQiLCJpZ25vcmVFcnJvcmVkIiwiZXJyMiIsIm9yaWdpbmFsRXJyb3IiLCJtb3JlTW9kdWxlcyIsInJ1bnRpbWUiLCJqc29ucCIsImZldGNoIiwicmVzcG9uc2UiLCJvayIsInN0YXR1c1RleHQiLCJqc29uIl0sIm1hcHBpbmdzIjoidUJBQUlBLEVBQ0FDLEVDREFDLEVBMkJBQyxFQXdCQUMsRUFDQUMsRUFDQUMsRSxpQkNyRFcsU0FBU0MsRUFBaUJDLEdBU3ZDLElBQUlDLEVBbUJKLE9BakJJRCxJQUNFQSxFQUFNRSxNQVhDLHdCQVlURCxFQUFPLG1CQUNFRCxFQUFNRSxNQVpBLDRFQWFmRCxFQUFPLGFBQ0VELEVBQU1FLE1BYk4saUNBY1RELEVBQU8sT0FDRUQsRUFBTUUsTUFkRix1Q0FlYkQsRUFBTyxXQUNFRCxFQUFNRSxNQWZKLHdDQWdCWEQsRUFBTyxjQUNFRCxFQUFNRSxNQWhCUCxxQ0FpQlJELEVBQU8sTUFDRUQsRUFBTUUsTUFqQlAsdUJBa0JSRCxFQUFPLFFBR0pBLEUsT0N6QlQsTUFBTUUsRUFBWUMsU0FBU0MsY0FBYyxxQkFDbkNDLEVBQWMsSUNKTCxNQUNiQyxtQkFBbUJDLEdBR2pCLElBQUlDLEVBQVMsRUFD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UXlDLE1BQU1nSixJQUN0RSxHQUF1QixNQUFwQkEsRUFBU2pGLE9BQVosQ0FDQSxJQUFJaUYsRUFBU0MsR0FBSSxNQUFNLElBQUk5SSxNQUFNLG1DQUFxQzZJLEVBQVNFLFlBQy9FLE9BQU9GLEVBQVNHLGEsR0NyZGxCek0sRUFBb0IsTSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGluUHJvZ3Jlc3MgPSB7fTtcbnZhciBkYXRhV2VicGFja1ByZWZpeCA9IFwiYWpzOlwiO1xuLy8gbG9hZFNjcmlwdCBmdW5jdGlvbiB0byBsb2FkIGEgc2NyaXB0IHZpYSBzY3JpcHQgdGFnXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmwgPSAodXJsLCBkb25lLCBrZXkpID0+IHtcblx0aWYoaW5Qcm9ncmVzc1t1cmxdKSB7IGluUHJvZ3Jlc3NbdXJsXS5wdXNoKGRvbmUpOyByZXR1cm47IH1cblx0dmFyIHNjcmlwdCwgbmVlZEF0dGFjaDtcblx0aWYoa2V5ICE9PSB1bmRlZmluZWQpIHtcblx0XHR2YXIgc2NyaXB0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpO1xuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBzY3JpcHRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgcyA9IHNjcmlwdHNbaV07XG5cdFx0XHRpZihzLmdldEF0dHJpYnV0ZShcInNyY1wiKSA9PSB1cmwgfHwgcy5nZXRBdHRyaWJ1dGUoXCJkYXRhLXdlYnBhY2tcIikgPT0gZGF0YVdlYnBhY2tQcmVmaXggKyBrZXkpIHsgc2NyaXB0ID0gczsgYnJlYWs7IH1cblx0XHR9XG5cdH1cblx0aWYoIXNjcmlwdCkge1xuXHRcdG5lZWRBdHRhY2ggPSB0cnVlO1xuXHRcdHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuXG5cdFx0c2NyaXB0LmNoYXJzZXQgPSAndXRmLTgnO1xuXHRcdHNjcmlwdC50aW1lb3V0ID0gMTIwO1xuXHRcdGlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLm5jKSB7XG5cdFx0XHRzY3JpcHQuc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgX193ZWJwYWNrX3JlcXVpcmVfXy5uYyk7XG5cdFx0fVxuXHRcdHNjcmlwdC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXdlYnBhY2tcIiwgZGF0YVdlYnBhY2tQcmVmaXggKyBrZXkpO1xuXHRcdHNjcmlwdC5zcmMgPSB1cmw7XG5cdH1cblx0aW5Qcm9ncmVzc1t1cmxdID0gW2RvbmVdO1xuXHR2YXIgb25TY3JpcHRDb21wbGV0ZSA9IChwcmV2LCBldmVudCkgPT4ge1xuXHRcdC8vIGF2b2lkIG1lbSBsZWFrcyBpbiBJRS5cblx0XHRzY3JpcHQub25lcnJvciA9IHNjcmlwdC5vbmxvYWQgPSBudWxsO1xuXHRcdGNsZWFyVGltZW91dCh0aW1lb3V0KTtcblx0XHR2YXIgZG9uZUZucyA9IGluUHJvZ3Jlc3NbdXJsXTtcblx0XHRkZWxldGUgaW5Qcm9ncmVzc1t1cmxdO1xuXHRcdHNjcmlwdC5wYXJlbnROb2RlICYmIHNjcmlwdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHNjcmlwdCk7XG5cdFx0ZG9uZUZucyAmJiBkb25lRm5zLmZvckVhY2goKGZuKSA9PiBmbihldmVudCkpO1xuXHRcdGlmKHByZXYpIHJldHVybiBwcmV2KGV2ZW50KTtcblx0fVxuXHQ7XG5cdHZhciB0aW1lb3V0ID0gc2V0VGltZW91dChvblNjcmlwdENvbXBsZXRlLmJpbmQobnVsbCwgdW5kZWZpbmVkLCB7IHR5cGU6ICd0aW1lb3V0JywgdGFyZ2V0OiBzY3JpcHQgfSksIDEyMDAwMCk7XG5cdHNjcmlwdC5vbmVycm9yID0gb25TY3JpcHRDb21wbGV0ZS5iaW5kKG51bGwsIHNjcmlwdC5vbmVycm9yKTtcblx0c2NyaXB0Lm9ubG9hZCA9IG9uU2NyaXB0Q29tcGxldGUuYmluZChudWxsLCBzY3JpcHQub25sb2FkKTtcblx0bmVlZEF0dGFjaCAmJiBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHNjcmlwdCk7XG59OyIsInZhciBjcmVhdGVTdHlsZXNoZWV0ID0gKGNodW5rSWQsIGZ1bGxocmVmLCByZXNvbHZlLCByZWplY3QpID0+IHtcblx0dmFyIGxpbmtUYWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcblxuXHRsaW5rVGFnLnJlbCA9IFwic3R5bGVzaGVldFwiO1xuXHRsaW5rVGFnLnR5cGUgPSBcInRleHQvY3NzXCI7XG5cdHZhciBvbkxpbmtDb21wbGV0ZSA9IChldmVudCkgPT4ge1xuXHRcdC8vIGF2b2lkIG1lbSBsZWFrcy5cblx0XHRsaW5rVGFnLm9uZXJyb3IgPSBsaW5rVGFnLm9ubG9hZCA9IG51bGw7XG5cdFx0aWYgKGV2ZW50LnR5cGUgPT09ICdsb2FkJykge1xuXHRcdFx0cmVzb2x2ZSgpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgZXJyb3JUeXBlID0gZXZlbnQgJiYgKGV2ZW50LnR5cGUgPT09ICdsb2FkJyA/ICdtaXNzaW5nJyA6IGV2ZW50LnR5cGUpO1xuXHRcdFx0dmFyIHJlYWxIcmVmID0gZXZlbnQgJiYgZXZlbnQudGFyZ2V0ICYmIGV2ZW50LnRhcmdldC5ocmVmIHx8IGZ1bGxocmVmO1xuXHRcdFx0dmFyIGVyciA9IG5ldyBFcnJvcihcIkxvYWRpbmcgQ1NTIGNodW5rIFwiICsgY2h1bmtJZCArIFwiIGZhaWxlZC5cXG4oXCIgKyByZWFsSHJlZiArIFwiKVwiKTtcblx0XHRcdGVyci5jb2RlID0gXCJDU1NfQ0hVTktfTE9BRF9GQUlMRURcIjtcblx0XHRcdGVyci50eXBlID0gZXJyb3JUeXBlO1xuXHRcdFx0ZXJyLnJlcXVlc3QgPSByZWFsSHJlZjtcblx0XHRcdGxpbmtUYWcucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChsaW5rVGFnKVxuXHRcdFx0cmVqZWN0KGVycik7XG5cdFx0fVxuXHR9XG5cdGxpbmtUYWcub25lcnJvciA9IGxpbmtUYWcub25sb2FkID0gb25MaW5rQ29tcGxldGU7XG5cdGxpbmtUYWcuaHJlZiA9IGZ1bGxocmVmO1xuXG5cdGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQobGlua1RhZyk7XG5cdHJldHVybiBsaW5rVGFnO1xufTtcbnZhciBmaW5kU3R5bGVzaGVldCA9IChocmVmLCBmdWxsaHJlZikgPT4ge1xuXHR2YXIgZXhpc3RpbmdMaW5rVGFncyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwibGlua1wiKTtcblx0Zm9yKHZhciBpID0gMDsgaSA8IGV4aXN0aW5nTGlua1RhZ3MubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgdGFnID0gZXhpc3RpbmdMaW5rVGFnc1tpXTtcblx0XHR2YXIgZGF0YUhyZWYgPSB0YWcuZ2V0QXR0cmlidXRlKFwiZGF0YS1ocmVmXCIpIHx8IHRhZy5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpO1xuXHRcdGlmKHRhZy5yZWwgPT09IFwic3R5bGVzaGVldFwiICYmIChkYXRhSHJlZiA9PT0gaHJlZiB8fCBkYXRhSHJlZiA9PT0gZnVsbGhyZWYpKSByZXR1cm4gdGFnO1xuXHR9XG5cdHZhciBleGlzdGluZ1N0eWxlVGFncyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic3R5bGVcIik7XG5cdGZvcih2YXIgaSA9IDA7IGkgPCBleGlzdGluZ1N0eWxlVGFncy5sZW5ndGg7IGkrKykge1xuXHRcdHZhciB0YWcgPSBleGlzdGluZ1N0eWxlVGFnc1tpXTtcblx0XHR2YXIgZGF0YUhyZWYgPSB0YWcuZ2V0QXR0cmlidXRlKFwiZGF0YS1ocmVmXCIpO1xuXHRcdGlmKGRhdGFIcmVmID09PSBocmVmIHx8IGRhdGFIcmVmID09PSBmdWxsaHJlZikgcmV0dXJuIHRhZztcblx0fVxufTtcbnZhciBsb2FkU3R5bGVzaGVldCA9IChjaHVua0lkKSA9PiB7XG5cdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0dmFyIGhyZWYgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm1pbmlDc3NGKGNodW5rSWQpO1xuXHRcdHZhciBmdWxsaHJlZiA9IF9fd2VicGFja19yZXF1aXJlX18ucCArIGhyZWY7XG5cdFx0aWYoZmluZFN0eWxlc2hlZXQoaHJlZiwgZnVsbGhyZWYpKSByZXR1cm4gcmVzb2x2ZSgpO1xuXHRcdGNyZWF0ZVN0eWxlc2hlZXQoY2h1bmtJZCwgZnVsbGhyZWYsIHJlc29sdmUsIHJlamVjdCk7XG5cdH0pO1xufVxuLy8gbm8gY2h1bmsgbG9hZGluZ1xuXG52YXIgb2xkVGFncyA9IFtdO1xudmFyIG5ld1RhZ3MgPSBbXTtcbnZhciBhcHBseUhhbmRsZXIgPSAob3B0aW9ucykgPT4ge1xuXHRyZXR1cm4geyBkaXNwb3NlOiAoKSA9PiB7XG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IG9sZFRhZ3MubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBvbGRUYWcgPSBvbGRUYWdzW2ldO1xuXHRcdFx0aWYob2xkVGFnLnBhcmVudE5vZGUpIG9sZFRhZy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG9sZFRhZyk7XG5cdFx0fVxuXHRcdG9sZFRhZ3MubGVuZ3RoID0gMDtcblx0fSwgYXBwbHk6ICgpID0+IHtcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgbmV3VGFncy5sZW5ndGg7IGkrKykgbmV3VGFnc1tpXS5yZWwgPSBcInN0eWxlc2hlZXRcIjtcblx0XHRuZXdUYWdzLmxlbmd0aCA9IDA7XG5cdH0gfTtcbn1cbl9fd2VicGFja19yZXF1aXJlX18uaG1yQy5taW5pQ3NzID0gKGNodW5rSWRzLCByZW1vdmVkQ2h1bmtzLCByZW1vdmVkTW9kdWxlcywgcHJvbWlzZXMsIGFwcGx5SGFuZGxlcnMsIHVwZGF0ZWRNb2R1bGVzTGlzdCkgPT4ge1xuXHRhcHBseUhhbmRsZXJzLnB1c2goYXBwbHlIYW5kbGVyKTtcblx0Y2h1bmtJZHMuZm9yRWFjaCgoY2h1bmtJZCkgPT4ge1xuXHRcdHZhciBocmVmID0gX193ZWJwYWNrX3JlcXVpcmVfXy5taW5pQ3NzRihjaHVua0lkKTtcblx0XHR2YXIgZnVsbGhyZWYgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBocmVmO1xuXHRcdGNvbnN0IG9sZFRhZyA9IGZpbmRTdHlsZXNoZWV0KGhyZWYsIGZ1bGxocmVmKTtcblx0XHRpZighb2xkVGFnKSByZXR1cm47XG5cdFx0cHJvbWlzZXMucHVzaChuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHR2YXIgdGFnID0gY3JlYXRlU3R5bGVzaGVldChjaHVua0lkLCBmdWxsaHJlZiwgKCkgPT4ge1xuXHRcdFx0XHR0YWcuYXMgPSBcInN0eWxlXCI7XG5cdFx0XHRcdHRhZy5yZWwgPSBcInByZWxvYWRcIjtcblx0XHRcdFx0cmVzb2x2ZSgpO1xuXHRcdFx0fSwgcmVqZWN0KTtcblx0XHRcdG9sZFRhZ3MucHVzaChvbGRUYWcpO1xuXHRcdFx0bmV3VGFncy5wdXNoKHRhZyk7XG5cdFx0fSkpO1xuXHR9KTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwYXlTeXN0ZW1DaGVja2VyKGlucHV0KSB7XG4gIGNvbnN0IGFtZXggPSAvXig/OjNbNDddWzAtOV17MTN9KSQvO1xuICBjb25zdCBtYXN0ZXJDYXJkID0gL14oPzo1WzEtNV18MjIyWzEtOV18MjJbMy05XVswLTldfDJbMy02XVswLTldWzAtOV18MjdbMC0xXVswLTldfDI3MjApXFxkKyQvO1xuICBjb25zdCB2aXNhID0gL14oPzo0WzAtOV17MTJ9KD86WzAtOV17M30pPykkLztcbiAgY29uc3QgZGlzY292ZXIgPSAvXig/OjYoPzowMTF8NVswLTldWzAtOV0pWzAtOV17MTJ9KSQvO1xuICBjb25zdCBkaW5lcnMgPSAvXig/OjMoPzowWzAtNV18WzY4XVswLTldKVswLTldezExfSkkLztcbiAgY29uc3QgamNiID0gL14oPzooPzoyMTMxfDE4MDB8MzVcXGR7M30pXFxkezExfSkkLztcbiAgY29uc3QgbWlyID0gL14oPzoyMjBbMC00XSlcXGQrJC87XG5cbiAgbGV0IHRleHQ7XG5cbiAgaWYgKGlucHV0KSB7XG4gICAgaWYgKGlucHV0Lm1hdGNoKGFtZXgpKSB7XG4gICAgICB0ZXh0ID0gJ0FtZXJpY2FuIEV4cHJlc3MnO1xuICAgIH0gZWxzZSBpZiAoaW5wdXQubWF0Y2gobWFzdGVyQ2FyZCkpIHtcbiAgICAgIHRleHQgPSAnTWFzdGVyQ2FyZCc7XG4gICAgfSBlbHNlIGlmIChpbnB1dC5tYXRjaCh2aXNhKSkge1xuICAgICAgdGV4dCA9ICdWaXNhJztcbiAgICB9IGVsc2UgaWYgKGlucHV0Lm1hdGNoKGRpc2NvdmVyKSkge1xuICAgICAgdGV4dCA9ICdEaXNjb3Zlcic7XG4gICAgfSBlbHNlIGlmIChpbnB1dC5tYXRjaChkaW5lcnMpKSB7XG4gICAgICB0ZXh0ID0gJ0RpbmVycyBDbHViJztcbiAgICB9IGVsc2UgaWYgKGlucHV0Lm1hdGNoKGpjYikpIHtcbiAgICAgIHRleHQgPSAnSkNCJztcbiAgICB9IGVsc2UgaWYgKGlucHV0Lm1hdGNoKG1pcikpIHtcbiAgICAgIHRleHQgPSAnTUlSJztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRleHQ7XG59XG4iLCJpbXBvcnQgV2lkZ2V0IGZyb20gJy4vV2lkZ2V0JztcbmltcG9ydCBDYXJkQ2hlY2tlciBmcm9tICcuL0NhcmRDaGVja2VyJztcblxuY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3dpZGdldC1jb250YWluZXInKTtcbmNvbnN0IGNhcmRDaGVja2VyID0gbmV3IENhcmRDaGVja2VyKCk7XG5cbmNvbnN0IHdpZGdldCA9IG5ldyBXaWRnZXQoY29udGFpbmVyLCBjYXJkQ2hlY2tlcik7XG53aWRnZXQuYmluZFRvRE9NKCk7XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkQ2hlY2tlciB7XG4gIGx1aG5BbGdvcml0aG1DaGVjayh2YWx1ZSkge1xuICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZSgvXFxEL2csICcnKTtcblxuICAgIGxldCBuQ2hlY2sgPSAwO1xuICAgIGxldCBiRXZlbiA9IGZhbHNlO1xuXG4gICAgZm9yIChsZXQgbiA9IHZhbHVlLmxlbmd0aCAtIDE7IG4gPj0gMDsgbi0tKSB7XG4gICAgICBsZXQgbkRpZ2l0ID0gcGFyc2VJbnQodmFsdWUuY2hhckF0KG4pLCAxMCk7XG5cbiAgICAgIGlmIChiRXZlbiAmJiAobkRpZ2l0ICo9IDIpID4gOSkge1xuICAgICAgICBuRGlnaXQgLT0gOTtcbiAgICAgIH1cblxuICAgICAgbkNoZWNrICs9IG5EaWdpdDtcbiAgICAgIGJFdmVuID0gIWJFdmVuO1xuICAgIH1cbiAgICByZXR1cm4gKG5DaGVjayAlIDEwKSA9PSAwO1xuICB9XG59XG4iLCJpbXBvcnQgcGF5U3lzdGVtQ2hlY2tlciBmcm9tICcuL3BheVN5c3RlbUNoZWNrZXInO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXaWRnZXQge1xuICBjb25zdHJ1Y3RvcihwYXJlbnRFbCwgY2FyZENoZWNrZXIpIHtcbiAgICB0aGlzLnBhcmVudEVsID0gcGFyZW50RWw7XG4gICAgdGhpcy5jYXJkQ2hlY2tlciA9IGNhcmRDaGVja2VyO1xuICAgIHRoaXMucGF5U3lzdGVtQ2hlY2tlciA9IHBheVN5c3RlbUNoZWNrZXI7XG4gIH1cblxuICBzdGF0aWMgZ2V0IG1hcmt1cCgpIHtcbiAgICByZXR1cm4gYDxkaXYgY2xhc3M9XCJjb2wtbWQtNVwiPlxuICAgICAgICA8aDM+Q2hlY2sgeW91ciBjcmVkaXQgY2FyZCBudW1iZXI8L2gzPlxuICAgICAgICA8dWwgY2xhc3M9XCJjYXJkcyBsaXN0LXVuc3R5bGVkXCI+XG4gICAgICAgICAgICA8bGk+PHNwYW4gY2xhc3M9XCJjYXJkIHZpc2FcIiB0aXRsZT1cIlZpc2FcIj5WaXNhPC9zcGFuPjwvbGk+XG4gICAgICAgICAgICA8bGk+PHNwYW4gY2xhc3M9XCJjYXJkIG1hc3RlclwiIHRpdGxlPVwiTWFzdGVyQ2FyZFwiPk1hc3RlckNhcmQ8L3NwYW4+PC9saT5cbiAgICAgICAgICAgIDxsaT48c3BhbiBjbGFzcz1cImNhcmQgYW1leFwiIHRpdGxlPVwiQW1lcmljYW4gRXhwcmVzc1wiPkFtZXJpY2FuIEV4cHJlc3M8L3NwYW4+PC9saT5cbiAgICAgICAgICAgIDxsaT48c3BhbiBjbGFzcz1cImNhcmQgZGlzY292ZXJcIiB0aXRsZT1cIkRpc2NvdmVyXCI+RGlzY292ZXI8L3NwYW4+PC9saT5cbiAgICAgICAgICAgIDxsaT48c3BhbiBjbGFzcz1cImNhcmQgamNiXCIgdGl0bGU9XCJKQ0JcIj5KQ0I8L3NwYW4+PC9saT5cbiAgICAgICAgICAgIDxsaT48c3BhbiBjbGFzcz1cImNhcmQgZGluZXJzX2NsdWJcIiB0aXRsZT1cIkRpbmVyc1wiPkRpbmVyczwvc3Bhbj48L2xpPlxuICAgICAgICAgICAgPGxpPjxzcGFuIGNsYXNzPVwiY2FyZCBtaXJcIiB0aXRsZT1cIk1JUlwiPk1JUjwvc3Bhbj48L2xpPlxuICAgICAgICA8L3VsPlxuICAgICAgICA8Zm9ybSBpZD1cImZvcm1cIiBjbGFzcz1cImZvcm0taW5saW5lXCIgbm92YWxpZGF0ZT1cIm5vdmFsaWRhdGVcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgICA8aW5wdXQgY2xhc3M9XCJmb3JtLWNvbnRyb2wgY29sLW1kLTZcIiBpZD1cImNhcmRfbnVtYmVyXCIgbmFtZT1cImNhcmRfbnVtYmVyXCIgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIkNyZWRpdCBjYXJkIG51bWJlclwiPlxuICAgICAgICAgICAgPGEgaWQ9XCJzdWJtaXRmb3JtXCIgY2xhc3M9XCJidG4gYnRuLXN1Y2Nlc3NcIj5DbGljayB0byBWYWxpZGF0ZTwvYT4gXG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9mb3JtPiAgICBcbiAgICA8L2Rpdj5gO1xuICB9XG5cbiAgc3RhdGljIGdldCBpbnB1dFNlbGVjdG9yKCkge1xuICAgIHJldHVybiAnI2NhcmRfbnVtYmVyJztcbiAgfVxuXG4gIHN0YXRpYyBnZXQgc3VibWl0U2VsZWN0b3IoKSB7XG4gICAgcmV0dXJuICcjc3VibWl0Zm9ybSc7XG4gIH1cblxuICBiaW5kVG9ET00oKSB7XG4gICAgdGhpcy5wYXJlbnRFbC5pbm5lckhUTUwgPSB0aGlzLmNvbnN0cnVjdG9yLm1hcmt1cDtcbiAgICBjb25zdCBzdWJtaXQgPSB0aGlzLnBhcmVudEVsLnF1ZXJ5U2VsZWN0b3IodGhpcy5jb25zdHJ1Y3Rvci5zdWJtaXRTZWxlY3Rvcik7XG4gICAgc3VibWl0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2dCkgPT4gdGhpcy5vblN1Ym1pdChldnQpKTtcblxuICAgIGNvbnN0IGlucHV0ID0gdGhpcy5wYXJlbnRFbC5xdWVyeVNlbGVjdG9yKHRoaXMuY29uc3RydWN0b3IuaW5wdXRTZWxlY3Rvcik7XG4gICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldnQpID0+IHRoaXMub25LZXlEb3duKGV2dCkpO1xuICB9XG5cbiAgb25TdWJtaXQoKSB7XG4gICAgY29uc3QgaW5wdXRFbCA9IHRoaXMucGFyZW50RWwucXVlcnlTZWxlY3Rvcih0aGlzLmNvbnN0cnVjdG9yLmlucHV0U2VsZWN0b3IpO1xuICAgIGlucHV0RWwuY2xhc3NMaXN0LnJlbW92ZSgndmFsaWQnLCAnaW52YWxpZCcpO1xuXG4gICAgaWYgKHRoaXMuY2FyZENoZWNrZXIubHVobkFsZ29yaXRobUNoZWNrKGlucHV0RWwudmFsdWUpID09PSB0cnVlKSB7XG4gICAgICBpbnB1dEVsLmNsYXNzTGlzdC5hZGQoJ3ZhbGlkJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlucHV0RWwuY2xhc3NMaXN0LmFkZCgnaW52YWxpZCcpO1xuICAgIH1cblxuICAgIGNvbnN0IHRleHQgPSB0aGlzLnBheVN5c3RlbUNoZWNrZXIoaW5wdXRFbC52YWx1ZSk7XG4gICAgdGhpcy5pbnNlcnREaXYodGV4dCk7XG4gIH1cblxuICBvbktleURvd24oKSB7XG4gICAgY29uc3QgcGF5U3lzdGVtID0gdGhpcy5wYXJlbnRFbC5xdWVyeVNlbGVjdG9yKCcucGF5X19zeXN0ZW0nKTtcbiAgICBpZiAocGF5U3lzdGVtKSB7XG4gICAgICBwYXlTeXN0ZW0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChwYXlTeXN0ZW0pO1xuICAgIH1cbiAgfVxuXG4gIGluc2VydERpdih0ZXh0KSB7XG4gICAgdGhpcy5wYXJlbnRFbC5xdWVyeVNlbGVjdG9yKCcuY29sLW1kLTUnKS5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIGA8ZGl2IGNsYXNzPVwicGF5X19zeXN0ZW1cIj4ke3RleHR9PC9kaXY+YCk7XG4gIH1cbn1cbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBlc2xpbnQtZW52IGJyb3dzZXIgKi9cblxuLypcbiAgZXNsaW50LWRpc2FibGVcbiAgbm8tY29uc29sZSxcbiAgZnVuYy1uYW1lc1xuKi9cbnZhciBub3JtYWxpemVVcmwgPSByZXF1aXJlKCcuL25vcm1hbGl6ZS11cmwnKTtcblxudmFyIHNyY0J5TW9kdWxlSWQgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xudmFyIG5vRG9jdW1lbnQgPSB0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnO1xudmFyIGZvckVhY2ggPSBBcnJheS5wcm90b3R5cGUuZm9yRWFjaDtcblxuZnVuY3Rpb24gZGVib3VuY2UoZm4sIHRpbWUpIHtcbiAgdmFyIHRpbWVvdXQgPSAwO1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzZWxmID0gdGhpczsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1yZXN0LXBhcmFtc1xuXG4gICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG5cbiAgICB2YXIgZnVuY3Rpb25DYWxsID0gZnVuY3Rpb24gZnVuY3Rpb25DYWxsKCkge1xuICAgICAgcmV0dXJuIGZuLmFwcGx5KHNlbGYsIGFyZ3MpO1xuICAgIH07XG5cbiAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgdGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb25DYWxsLCB0aW1lKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbmZ1bmN0aW9uIGdldEN1cnJlbnRTY3JpcHRVcmwobW9kdWxlSWQpIHtcbiAgdmFyIHNyYyA9IHNyY0J5TW9kdWxlSWRbbW9kdWxlSWRdO1xuXG4gIGlmICghc3JjKSB7XG4gICAgaWYgKGRvY3VtZW50LmN1cnJlbnRTY3JpcHQpIHtcbiAgICAgIHNyYyA9IGRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgc2NyaXB0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKTtcbiAgICAgIHZhciBsYXN0U2NyaXB0VGFnID0gc2NyaXB0c1tzY3JpcHRzLmxlbmd0aCAtIDFdO1xuXG4gICAgICBpZiAobGFzdFNjcmlwdFRhZykge1xuICAgICAgICBzcmMgPSBsYXN0U2NyaXB0VGFnLnNyYztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzcmNCeU1vZHVsZUlkW21vZHVsZUlkXSA9IHNyYztcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoZmlsZU1hcCkge1xuICAgIGlmICghc3JjKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgc3BsaXRSZXN1bHQgPSBzcmMuc3BsaXQoLyhbXlxcXFwvXSspXFwuanMkLyk7XG4gICAgdmFyIGZpbGVuYW1lID0gc3BsaXRSZXN1bHQgJiYgc3BsaXRSZXN1bHRbMV07XG5cbiAgICBpZiAoIWZpbGVuYW1lKSB7XG4gICAgICByZXR1cm4gW3NyYy5yZXBsYWNlKCcuanMnLCAnLmNzcycpXTtcbiAgICB9XG5cbiAgICBpZiAoIWZpbGVNYXApIHtcbiAgICAgIHJldHVybiBbc3JjLnJlcGxhY2UoJy5qcycsICcuY3NzJyldO1xuICAgIH1cblxuICAgIHJldHVybiBmaWxlTWFwLnNwbGl0KCcsJykubWFwKGZ1bmN0aW9uIChtYXBSdWxlKSB7XG4gICAgICB2YXIgcmVnID0gbmV3IFJlZ0V4cChcIlwiLmNvbmNhdChmaWxlbmFtZSwgXCJcXFxcLmpzJFwiKSwgJ2cnKTtcbiAgICAgIHJldHVybiBub3JtYWxpemVVcmwoc3JjLnJlcGxhY2UocmVnLCBcIlwiLmNvbmNhdChtYXBSdWxlLnJlcGxhY2UoL3tmaWxlTmFtZX0vZywgZmlsZW5hbWUpLCBcIi5jc3NcIikpKTtcbiAgICB9KTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlQ3NzKGVsLCB1cmwpIHtcbiAgaWYgKCF1cmwpIHtcbiAgICBpZiAoIWVsLmhyZWYpIHtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuXG5cbiAgICB1cmwgPSBlbC5ocmVmLnNwbGl0KCc/JylbMF07XG4gIH1cblxuICBpZiAoIWlzVXJsUmVxdWVzdCh1cmwpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGVsLmlzTG9hZGVkID09PSBmYWxzZSkge1xuICAgIC8vIFdlIHNlZW0gdG8gYmUgYWJvdXQgdG8gcmVwbGFjZSBhIGNzcyBsaW5rIHRoYXQgaGFzbid0IGxvYWRlZCB5ZXQuXG4gICAgLy8gV2UncmUgcHJvYmFibHkgY2hhbmdpbmcgdGhlIHNhbWUgZmlsZSBtb3JlIHRoYW4gb25jZS5cbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoIXVybCB8fCAhKHVybC5pbmRleE9mKCcuY3NzJykgPiAtMSkpIHtcbiAgICByZXR1cm47XG4gIH0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG5cblxuICBlbC52aXNpdGVkID0gdHJ1ZTtcbiAgdmFyIG5ld0VsID0gZWwuY2xvbmVOb2RlKCk7XG4gIG5ld0VsLmlzTG9hZGVkID0gZmFsc2U7XG4gIG5ld0VsLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgbmV3RWwuaXNMb2FkZWQgPSB0cnVlO1xuICAgIGVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWwpO1xuICB9KTtcbiAgbmV3RWwuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBmdW5jdGlvbiAoKSB7XG4gICAgbmV3RWwuaXNMb2FkZWQgPSB0cnVlO1xuICAgIGVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWwpO1xuICB9KTtcbiAgbmV3RWwuaHJlZiA9IFwiXCIuY29uY2F0KHVybCwgXCI/XCIpLmNvbmNhdChEYXRlLm5vdygpKTtcblxuICBpZiAoZWwubmV4dFNpYmxpbmcpIHtcbiAgICBlbC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShuZXdFbCwgZWwubmV4dFNpYmxpbmcpO1xuICB9IGVsc2Uge1xuICAgIGVsLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQobmV3RWwpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldFJlbG9hZFVybChocmVmLCBzcmMpIHtcbiAgdmFyIHJldDsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG5cbiAgaHJlZiA9IG5vcm1hbGl6ZVVybChocmVmLCB7XG4gICAgc3RyaXBXV1c6IGZhbHNlXG4gIH0pOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgYXJyYXktY2FsbGJhY2stcmV0dXJuXG5cbiAgc3JjLnNvbWUoZnVuY3Rpb24gKHVybCkge1xuICAgIGlmIChocmVmLmluZGV4T2Yoc3JjKSA+IC0xKSB7XG4gICAgICByZXQgPSB1cmw7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHJldDtcbn1cblxuZnVuY3Rpb24gcmVsb2FkU3R5bGUoc3JjKSB7XG4gIGlmICghc3JjKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIGVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnbGluaycpO1xuICB2YXIgbG9hZGVkID0gZmFsc2U7XG4gIGZvckVhY2guY2FsbChlbGVtZW50cywgZnVuY3Rpb24gKGVsKSB7XG4gICAgaWYgKCFlbC5ocmVmKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHVybCA9IGdldFJlbG9hZFVybChlbC5ocmVmLCBzcmMpO1xuXG4gICAgaWYgKCFpc1VybFJlcXVlc3QodXJsKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChlbC52aXNpdGVkID09PSB0cnVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHVybCkge1xuICAgICAgdXBkYXRlQ3NzKGVsLCB1cmwpO1xuICAgICAgbG9hZGVkID0gdHJ1ZTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gbG9hZGVkO1xufVxuXG5mdW5jdGlvbiByZWxvYWRBbGwoKSB7XG4gIHZhciBlbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpbmsnKTtcbiAgZm9yRWFjaC5jYWxsKGVsZW1lbnRzLCBmdW5jdGlvbiAoZWwpIHtcbiAgICBpZiAoZWwudmlzaXRlZCA9PT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHVwZGF0ZUNzcyhlbCk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBpc1VybFJlcXVlc3QodXJsKSB7XG4gIC8vIEFuIFVSTCBpcyBub3QgYW4gcmVxdWVzdCBpZlxuICAvLyBJdCBpcyBub3QgaHR0cCBvciBodHRwc1xuICBpZiAoIS9eaHR0cHM/Oi9pLnRlc3QodXJsKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChtb2R1bGVJZCwgb3B0aW9ucykge1xuICBpZiAobm9Eb2N1bWVudCkge1xuICAgIGNvbnNvbGUubG9nKCdubyB3aW5kb3cuZG9jdW1lbnQgZm91bmQsIHdpbGwgbm90IEhNUiBDU1MnKTtcbiAgICByZXR1cm4gbm9vcDtcbiAgfVxuXG4gIHZhciBnZXRTY3JpcHRTcmMgPSBnZXRDdXJyZW50U2NyaXB0VXJsKG1vZHVsZUlkKTtcblxuICBmdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgdmFyIHNyYyA9IGdldFNjcmlwdFNyYyhvcHRpb25zLmZpbGVuYW1lKTtcbiAgICB2YXIgcmVsb2FkZWQgPSByZWxvYWRTdHlsZShzcmMpO1xuXG4gICAgaWYgKG9wdGlvbnMubG9jYWxzKSB7XG4gICAgICBjb25zb2xlLmxvZygnW0hNUl0gRGV0ZWN0ZWQgbG9jYWwgY3NzIG1vZHVsZXMuIFJlbG9hZCBhbGwgY3NzJyk7XG4gICAgICByZWxvYWRBbGwoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAocmVsb2FkZWQpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdbSE1SXSBjc3MgcmVsb2FkICVzJywgc3JjLmpvaW4oJyAnKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKCdbSE1SXSBSZWxvYWQgYWxsIGNzcycpO1xuICAgICAgcmVsb2FkQWxsKCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGRlYm91bmNlKHVwZGF0ZSwgNTApO1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogZXNsaW50LWRpc2FibGUgKi9cbmZ1bmN0aW9uIG5vcm1hbGl6ZVVybChwYXRoQ29tcG9uZW50cykge1xuICByZXR1cm4gcGF0aENvbXBvbmVudHMucmVkdWNlKGZ1bmN0aW9uIChhY2N1bXVsYXRvciwgaXRlbSkge1xuICAgIHN3aXRjaCAoaXRlbSkge1xuICAgICAgY2FzZSAnLi4nOlxuICAgICAgICBhY2N1bXVsYXRvci5wb3AoKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJy4nOlxuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYWNjdW11bGF0b3IucHVzaChpdGVtKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gIH0sIFtdKS5qb2luKCcvJyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHVybFN0cmluZykge1xuICB1cmxTdHJpbmcgPSB1cmxTdHJpbmcudHJpbSgpO1xuXG4gIGlmICgvXmRhdGE6L2kudGVzdCh1cmxTdHJpbmcpKSB7XG4gICAgcmV0dXJuIHVybFN0cmluZztcbiAgfVxuXG4gIHZhciBwcm90b2NvbCA9IHVybFN0cmluZy5pbmRleE9mKCcvLycpICE9PSAtMSA/IHVybFN0cmluZy5zcGxpdCgnLy8nKVswXSArICcvLycgOiAnJztcbiAgdmFyIGNvbXBvbmVudHMgPSB1cmxTdHJpbmcucmVwbGFjZShuZXcgUmVnRXhwKHByb3RvY29sLCAnaScpLCAnJykuc3BsaXQoJy8nKTtcbiAgdmFyIGhvc3QgPSBjb21wb25lbnRzWzBdLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXFwuJC8sICcnKTtcbiAgY29tcG9uZW50c1swXSA9ICcnO1xuICB2YXIgcGF0aCA9IG5vcm1hbGl6ZVVybChjb21wb25lbnRzKTtcbiAgcmV0dXJuIHByb3RvY29sICsgaG9zdCArIHBhdGg7XG59OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9O1xuICAgIGlmKG1vZHVsZS5ob3QpIHtcbiAgICAgIC8vIDE2MzA1ODY5MTE3NzZcbiAgICAgIHZhciBjc3NSZWxvYWQgPSByZXF1aXJlKFwiL2hvbWUvYXBwdmV5b3IvcHJvamVjdHMvYWhqLWh3NC1jcmVkaXQtY2FyZC12YWxpZGF0b3Ivbm9kZV9tb2R1bGVzL21pbmktY3NzLWV4dHJhY3QtcGx1Z2luL2Rpc3QvaG1yL2hvdE1vZHVsZVJlcGxhY2VtZW50LmpzXCIpKG1vZHVsZS5pZCwge1wibG9jYWxzXCI6ZmFsc2V9KTtcbiAgICAgIG1vZHVsZS5ob3QuZGlzcG9zZShjc3NSZWxvYWQpO1xuICAgICAgbW9kdWxlLmhvdC5hY2NlcHQodW5kZWZpbmVkLCBjc3NSZWxvYWQpO1xuICAgIH1cbiAgIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0aWYoX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSkge1xuXHRcdHJldHVybiBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0aWQ6IG1vZHVsZUlkLFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0dmFyIGV4ZWNPcHRpb25zID0geyBpZDogbW9kdWxlSWQsIG1vZHVsZTogbW9kdWxlLCBmYWN0b3J5OiBfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXSwgcmVxdWlyZTogX193ZWJwYWNrX3JlcXVpcmVfXyB9O1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmkuZm9yRWFjaChmdW5jdGlvbihoYW5kbGVyKSB7IGhhbmRsZXIoZXhlY09wdGlvbnMpOyB9KTtcblx0bW9kdWxlID0gZXhlY09wdGlvbnMubW9kdWxlO1xuXHRleGVjT3B0aW9ucy5mYWN0b3J5LmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIGV4ZWNPcHRpb25zLnJlcXVpcmUpO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuLy8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbl9fd2VicGFja19yZXF1aXJlX18ubSA9IF9fd2VicGFja19tb2R1bGVzX187XG5cbi8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX187XG5cbi8vIGV4cG9zZSB0aGUgbW9kdWxlIGV4ZWN1dGlvbiBpbnRlcmNlcHRvclxuX193ZWJwYWNrX3JlcXVpcmVfXy5pID0gW107XG5cbiIsIi8vIFRoaXMgZnVuY3Rpb24gYWxsb3cgdG8gcmVmZXJlbmNlIGFsbCBjaHVua3Ncbl9fd2VicGFja19yZXF1aXJlX18uaHUgPSAoY2h1bmtJZCkgPT4ge1xuXHQvLyByZXR1cm4gdXJsIGZvciBmaWxlbmFtZXMgYmFzZWQgb24gdGVtcGxhdGVcblx0cmV0dXJuIFwiXCIgKyBjaHVua0lkICsgXCIuXCIgKyBfX3dlYnBhY2tfcmVxdWlyZV9fLmgoKSArIFwiLmhvdC11cGRhdGUuanNcIjtcbn07IiwiLy8gVGhpcyBmdW5jdGlvbiBhbGxvdyB0byByZWZlcmVuY2UgYWxsIGNodW5rc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5taW5pQ3NzRiA9IChjaHVua0lkKSA9PiB7XG5cdC8vIHJldHVybiB1cmwgZm9yIGZpbGVuYW1lcyBiYXNlZCBvbiB0ZW1wbGF0ZVxuXHRyZXR1cm4gXCJcIiArIFwibWFpblwiICsgXCIuY3NzXCI7XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18uaG1yRiA9ICgpID0+IFwibWFpbi5cIiArIF9fd2VicGFja19yZXF1aXJlX18uaCgpICsgXCIuaG90LXVwZGF0ZS5qc29uXCI7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5oID0gKCkgPT4gXCI0ZTQ2ZmE2MTk3N2FmMTc2NWI3OFwiIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkiLCJ2YXIgY3VycmVudE1vZHVsZURhdGEgPSB7fTtcbnZhciBpbnN0YWxsZWRNb2R1bGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXy5jO1xuXG4vLyBtb2R1bGUgYW5kIHJlcXVpcmUgY3JlYXRpb25cbnZhciBjdXJyZW50Q2hpbGRNb2R1bGU7XG52YXIgY3VycmVudFBhcmVudHMgPSBbXTtcblxuLy8gc3RhdHVzXG52YXIgcmVnaXN0ZXJlZFN0YXR1c0hhbmRsZXJzID0gW107XG52YXIgY3VycmVudFN0YXR1cyA9IFwiaWRsZVwiO1xuXG4vLyB3aGlsZSBkb3dubG9hZGluZ1xudmFyIGJsb2NraW5nUHJvbWlzZXM7XG5cbi8vIFRoZSB1cGRhdGUgaW5mb1xudmFyIGN1cnJlbnRVcGRhdGVBcHBseUhhbmRsZXJzO1xudmFyIHF1ZXVlZEludmFsaWRhdGVkTW9kdWxlcztcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmhtckQgPSBjdXJyZW50TW9kdWxlRGF0YTtcblxuX193ZWJwYWNrX3JlcXVpcmVfXy5pLnB1c2goZnVuY3Rpb24gKG9wdGlvbnMpIHtcblx0dmFyIG1vZHVsZSA9IG9wdGlvbnMubW9kdWxlO1xuXHR2YXIgcmVxdWlyZSA9IGNyZWF0ZVJlcXVpcmUob3B0aW9ucy5yZXF1aXJlLCBvcHRpb25zLmlkKTtcblx0bW9kdWxlLmhvdCA9IGNyZWF0ZU1vZHVsZUhvdE9iamVjdChvcHRpb25zLmlkLCBtb2R1bGUpO1xuXHRtb2R1bGUucGFyZW50cyA9IGN1cnJlbnRQYXJlbnRzO1xuXHRtb2R1bGUuY2hpbGRyZW4gPSBbXTtcblx0Y3VycmVudFBhcmVudHMgPSBbXTtcblx0b3B0aW9ucy5yZXF1aXJlID0gcmVxdWlyZTtcbn0pO1xuXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmhtckMgPSB7fTtcbl9fd2VicGFja19yZXF1aXJlX18uaG1ySSA9IHt9O1xuXG5mdW5jdGlvbiBjcmVhdGVSZXF1aXJlKHJlcXVpcmUsIG1vZHVsZUlkKSB7XG5cdHZhciBtZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xuXHRpZiAoIW1lKSByZXR1cm4gcmVxdWlyZTtcblx0dmFyIGZuID0gZnVuY3Rpb24gKHJlcXVlc3QpIHtcblx0XHRpZiAobWUuaG90LmFjdGl2ZSkge1xuXHRcdFx0aWYgKGluc3RhbGxlZE1vZHVsZXNbcmVxdWVzdF0pIHtcblx0XHRcdFx0dmFyIHBhcmVudHMgPSBpbnN0YWxsZWRNb2R1bGVzW3JlcXVlc3RdLnBhcmVudHM7XG5cdFx0XHRcdGlmIChwYXJlbnRzLmluZGV4T2YobW9kdWxlSWQpID09PSAtMSkge1xuXHRcdFx0XHRcdHBhcmVudHMucHVzaChtb2R1bGVJZCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGN1cnJlbnRQYXJlbnRzID0gW21vZHVsZUlkXTtcblx0XHRcdFx0Y3VycmVudENoaWxkTW9kdWxlID0gcmVxdWVzdDtcblx0XHRcdH1cblx0XHRcdGlmIChtZS5jaGlsZHJlbi5pbmRleE9mKHJlcXVlc3QpID09PSAtMSkge1xuXHRcdFx0XHRtZS5jaGlsZHJlbi5wdXNoKHJlcXVlc3QpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb25zb2xlLndhcm4oXG5cdFx0XHRcdFwiW0hNUl0gdW5leHBlY3RlZCByZXF1aXJlKFwiICtcblx0XHRcdFx0XHRyZXF1ZXN0ICtcblx0XHRcdFx0XHRcIikgZnJvbSBkaXNwb3NlZCBtb2R1bGUgXCIgK1xuXHRcdFx0XHRcdG1vZHVsZUlkXG5cdFx0XHQpO1xuXHRcdFx0Y3VycmVudFBhcmVudHMgPSBbXTtcblx0XHR9XG5cdFx0cmV0dXJuIHJlcXVpcmUocmVxdWVzdCk7XG5cdH07XG5cdHZhciBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IgPSBmdW5jdGlvbiAobmFtZSkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Z2V0OiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdHJldHVybiByZXF1aXJlW25hbWVdO1xuXHRcdFx0fSxcblx0XHRcdHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG5cdFx0XHRcdHJlcXVpcmVbbmFtZV0gPSB2YWx1ZTtcblx0XHRcdH1cblx0XHR9O1xuXHR9O1xuXHRmb3IgKHZhciBuYW1lIGluIHJlcXVpcmUpIHtcblx0XHRpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHJlcXVpcmUsIG5hbWUpICYmIG5hbWUgIT09IFwiZVwiKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZm4sIG5hbWUsIGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvcihuYW1lKSk7XG5cdFx0fVxuXHR9XG5cdGZuLmUgPSBmdW5jdGlvbiAoY2h1bmtJZCkge1xuXHRcdHJldHVybiB0cmFja0Jsb2NraW5nUHJvbWlzZShyZXF1aXJlLmUoY2h1bmtJZCkpO1xuXHR9O1xuXHRyZXR1cm4gZm47XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZU1vZHVsZUhvdE9iamVjdChtb2R1bGVJZCwgbWUpIHtcblx0dmFyIGhvdCA9IHtcblx0XHQvLyBwcml2YXRlIHN0dWZmXG5cdFx0X2FjY2VwdGVkRGVwZW5kZW5jaWVzOiB7fSxcblx0XHRfZGVjbGluZWREZXBlbmRlbmNpZXM6IHt9LFxuXHRcdF9zZWxmQWNjZXB0ZWQ6IGZhbHNlLFxuXHRcdF9zZWxmRGVjbGluZWQ6IGZhbHNlLFxuXHRcdF9zZWxmSW52YWxpZGF0ZWQ6IGZhbHNlLFxuXHRcdF9kaXNwb3NlSGFuZGxlcnM6IFtdLFxuXHRcdF9tYWluOiBjdXJyZW50Q2hpbGRNb2R1bGUgIT09IG1vZHVsZUlkLFxuXHRcdF9yZXF1aXJlU2VsZjogZnVuY3Rpb24gKCkge1xuXHRcdFx0Y3VycmVudFBhcmVudHMgPSBtZS5wYXJlbnRzLnNsaWNlKCk7XG5cdFx0XHRjdXJyZW50Q2hpbGRNb2R1bGUgPSBtb2R1bGVJZDtcblx0XHRcdF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpO1xuXHRcdH0sXG5cblx0XHQvLyBNb2R1bGUgQVBJXG5cdFx0YWN0aXZlOiB0cnVlLFxuXHRcdGFjY2VwdDogZnVuY3Rpb24gKGRlcCwgY2FsbGJhY2spIHtcblx0XHRcdGlmIChkZXAgPT09IHVuZGVmaW5lZCkgaG90Ll9zZWxmQWNjZXB0ZWQgPSB0cnVlO1xuXHRcdFx0ZWxzZSBpZiAodHlwZW9mIGRlcCA9PT0gXCJmdW5jdGlvblwiKSBob3QuX3NlbGZBY2NlcHRlZCA9IGRlcDtcblx0XHRcdGVsc2UgaWYgKHR5cGVvZiBkZXAgPT09IFwib2JqZWN0XCIgJiYgZGVwICE9PSBudWxsKVxuXHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGRlcC5sZW5ndGg7IGkrKylcblx0XHRcdFx0XHRob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW2RlcFtpXV0gPSBjYWxsYmFjayB8fCBmdW5jdGlvbiAoKSB7fTtcblx0XHRcdGVsc2UgaG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBdID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24gKCkge307XG5cdFx0fSxcblx0XHRkZWNsaW5lOiBmdW5jdGlvbiAoZGVwKSB7XG5cdFx0XHRpZiAoZGVwID09PSB1bmRlZmluZWQpIGhvdC5fc2VsZkRlY2xpbmVkID0gdHJ1ZTtcblx0XHRcdGVsc2UgaWYgKHR5cGVvZiBkZXAgPT09IFwib2JqZWN0XCIgJiYgZGVwICE9PSBudWxsKVxuXHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGRlcC5sZW5ndGg7IGkrKylcblx0XHRcdFx0XHRob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW2RlcFtpXV0gPSB0cnVlO1xuXHRcdFx0ZWxzZSBob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW2RlcF0gPSB0cnVlO1xuXHRcdH0sXG5cdFx0ZGlzcG9zZTogZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG5cdFx0XHRob3QuX2Rpc3Bvc2VIYW5kbGVycy5wdXNoKGNhbGxiYWNrKTtcblx0XHR9LFxuXHRcdGFkZERpc3Bvc2VIYW5kbGVyOiBmdW5jdGlvbiAoY2FsbGJhY2spIHtcblx0XHRcdGhvdC5fZGlzcG9zZUhhbmRsZXJzLnB1c2goY2FsbGJhY2spO1xuXHRcdH0sXG5cdFx0cmVtb3ZlRGlzcG9zZUhhbmRsZXI6IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuXHRcdFx0dmFyIGlkeCA9IGhvdC5fZGlzcG9zZUhhbmRsZXJzLmluZGV4T2YoY2FsbGJhY2spO1xuXHRcdFx0aWYgKGlkeCA+PSAwKSBob3QuX2Rpc3Bvc2VIYW5kbGVycy5zcGxpY2UoaWR4LCAxKTtcblx0XHR9LFxuXHRcdGludmFsaWRhdGU6IGZ1bmN0aW9uICgpIHtcblx0XHRcdHRoaXMuX3NlbGZJbnZhbGlkYXRlZCA9IHRydWU7XG5cdFx0XHRzd2l0Y2ggKGN1cnJlbnRTdGF0dXMpIHtcblx0XHRcdFx0Y2FzZSBcImlkbGVcIjpcblx0XHRcdFx0XHRjdXJyZW50VXBkYXRlQXBwbHlIYW5kbGVycyA9IFtdO1xuXHRcdFx0XHRcdE9iamVjdC5rZXlzKF9fd2VicGFja19yZXF1aXJlX18uaG1ySSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdFx0XHRcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmhtcklba2V5XShcblx0XHRcdFx0XHRcdFx0bW9kdWxlSWQsXG5cdFx0XHRcdFx0XHRcdGN1cnJlbnRVcGRhdGVBcHBseUhhbmRsZXJzXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdHNldFN0YXR1cyhcInJlYWR5XCIpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIFwicmVhZHlcIjpcblx0XHRcdFx0XHRPYmplY3Qua2V5cyhfX3dlYnBhY2tfcmVxdWlyZV9fLmhtckkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHRcdFx0XHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5obXJJW2tleV0oXG5cdFx0XHRcdFx0XHRcdG1vZHVsZUlkLFxuXHRcdFx0XHRcdFx0XHRjdXJyZW50VXBkYXRlQXBwbHlIYW5kbGVyc1xuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBcInByZXBhcmVcIjpcblx0XHRcdFx0Y2FzZSBcImNoZWNrXCI6XG5cdFx0XHRcdGNhc2UgXCJkaXNwb3NlXCI6XG5cdFx0XHRcdGNhc2UgXCJhcHBseVwiOlxuXHRcdFx0XHRcdChxdWV1ZWRJbnZhbGlkYXRlZE1vZHVsZXMgPSBxdWV1ZWRJbnZhbGlkYXRlZE1vZHVsZXMgfHwgW10pLnB1c2goXG5cdFx0XHRcdFx0XHRtb2R1bGVJZFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0Ly8gaWdub3JlIHJlcXVlc3RzIGluIGVycm9yIHN0YXRlc1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHQvLyBNYW5hZ2VtZW50IEFQSVxuXHRcdGNoZWNrOiBob3RDaGVjayxcblx0XHRhcHBseTogaG90QXBwbHksXG5cdFx0c3RhdHVzOiBmdW5jdGlvbiAobCkge1xuXHRcdFx0aWYgKCFsKSByZXR1cm4gY3VycmVudFN0YXR1cztcblx0XHRcdHJlZ2lzdGVyZWRTdGF0dXNIYW5kbGVycy5wdXNoKGwpO1xuXHRcdH0sXG5cdFx0YWRkU3RhdHVzSGFuZGxlcjogZnVuY3Rpb24gKGwpIHtcblx0XHRcdHJlZ2lzdGVyZWRTdGF0dXNIYW5kbGVycy5wdXNoKGwpO1xuXHRcdH0sXG5cdFx0cmVtb3ZlU3RhdHVzSGFuZGxlcjogZnVuY3Rpb24gKGwpIHtcblx0XHRcdHZhciBpZHggPSByZWdpc3RlcmVkU3RhdHVzSGFuZGxlcnMuaW5kZXhPZihsKTtcblx0XHRcdGlmIChpZHggPj0gMCkgcmVnaXN0ZXJlZFN0YXR1c0hhbmRsZXJzLnNwbGljZShpZHgsIDEpO1xuXHRcdH0sXG5cblx0XHQvL2luaGVyaXQgZnJvbSBwcmV2aW91cyBkaXNwb3NlIGNhbGxcblx0XHRkYXRhOiBjdXJyZW50TW9kdWxlRGF0YVttb2R1bGVJZF1cblx0fTtcblx0Y3VycmVudENoaWxkTW9kdWxlID0gdW5kZWZpbmVkO1xuXHRyZXR1cm4gaG90O1xufVxuXG5mdW5jdGlvbiBzZXRTdGF0dXMobmV3U3RhdHVzKSB7XG5cdGN1cnJlbnRTdGF0dXMgPSBuZXdTdGF0dXM7XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgcmVnaXN0ZXJlZFN0YXR1c0hhbmRsZXJzLmxlbmd0aDsgaSsrKVxuXHRcdHJlZ2lzdGVyZWRTdGF0dXNIYW5kbGVyc1tpXS5jYWxsKG51bGwsIG5ld1N0YXR1cyk7XG59XG5cbmZ1bmN0aW9uIHRyYWNrQmxvY2tpbmdQcm9taXNlKHByb21pc2UpIHtcblx0c3dpdGNoIChjdXJyZW50U3RhdHVzKSB7XG5cdFx0Y2FzZSBcInJlYWR5XCI6XG5cdFx0XHRzZXRTdGF0dXMoXCJwcmVwYXJlXCIpO1xuXHRcdFx0YmxvY2tpbmdQcm9taXNlcy5wdXNoKHByb21pc2UpO1xuXHRcdFx0d2FpdEZvckJsb2NraW5nUHJvbWlzZXMoZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRzZXRTdGF0dXMoXCJyZWFkeVwiKTtcblx0XHRcdH0pO1xuXHRcdFx0cmV0dXJuIHByb21pc2U7XG5cdFx0Y2FzZSBcInByZXBhcmVcIjpcblx0XHRcdGJsb2NraW5nUHJvbWlzZXMucHVzaChwcm9taXNlKTtcblx0XHRcdHJldHVybiBwcm9taXNlO1xuXHRcdGRlZmF1bHQ6XG5cdFx0XHRyZXR1cm4gcHJvbWlzZTtcblx0fVxufVxuXG5mdW5jdGlvbiB3YWl0Rm9yQmxvY2tpbmdQcm9taXNlcyhmbikge1xuXHRpZiAoYmxvY2tpbmdQcm9taXNlcy5sZW5ndGggPT09IDApIHJldHVybiBmbigpO1xuXHR2YXIgYmxvY2tlciA9IGJsb2NraW5nUHJvbWlzZXM7XG5cdGJsb2NraW5nUHJvbWlzZXMgPSBbXTtcblx0cmV0dXJuIFByb21pc2UuYWxsKGJsb2NrZXIpLnRoZW4oZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiB3YWl0Rm9yQmxvY2tpbmdQcm9taXNlcyhmbik7XG5cdH0pO1xufVxuXG5mdW5jdGlvbiBob3RDaGVjayhhcHBseU9uVXBkYXRlKSB7XG5cdGlmIChjdXJyZW50U3RhdHVzICE9PSBcImlkbGVcIikge1xuXHRcdHRocm93IG5ldyBFcnJvcihcImNoZWNrKCkgaXMgb25seSBhbGxvd2VkIGluIGlkbGUgc3RhdHVzXCIpO1xuXHR9XG5cdHNldFN0YXR1cyhcImNoZWNrXCIpO1xuXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXy5obXJNKCkudGhlbihmdW5jdGlvbiAodXBkYXRlKSB7XG5cdFx0aWYgKCF1cGRhdGUpIHtcblx0XHRcdHNldFN0YXR1cyhhcHBseUludmFsaWRhdGVkTW9kdWxlcygpID8gXCJyZWFkeVwiIDogXCJpZGxlXCIpO1xuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fVxuXG5cdFx0c2V0U3RhdHVzKFwicHJlcGFyZVwiKTtcblxuXHRcdHZhciB1cGRhdGVkTW9kdWxlcyA9IFtdO1xuXHRcdGJsb2NraW5nUHJvbWlzZXMgPSBbXTtcblx0XHRjdXJyZW50VXBkYXRlQXBwbHlIYW5kbGVycyA9IFtdO1xuXG5cdFx0cmV0dXJuIFByb21pc2UuYWxsKFxuXHRcdFx0T2JqZWN0LmtleXMoX193ZWJwYWNrX3JlcXVpcmVfXy5obXJDKS5yZWR1Y2UoZnVuY3Rpb24gKFxuXHRcdFx0XHRwcm9taXNlcyxcblx0XHRcdFx0a2V5XG5cdFx0XHQpIHtcblx0XHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5obXJDW2tleV0oXG5cdFx0XHRcdFx0dXBkYXRlLmMsXG5cdFx0XHRcdFx0dXBkYXRlLnIsXG5cdFx0XHRcdFx0dXBkYXRlLm0sXG5cdFx0XHRcdFx0cHJvbWlzZXMsXG5cdFx0XHRcdFx0Y3VycmVudFVwZGF0ZUFwcGx5SGFuZGxlcnMsXG5cdFx0XHRcdFx0dXBkYXRlZE1vZHVsZXNcblx0XHRcdFx0KTtcblx0XHRcdFx0cmV0dXJuIHByb21pc2VzO1xuXHRcdFx0fSxcblx0XHRcdFtdKVxuXHRcdCkudGhlbihmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gd2FpdEZvckJsb2NraW5nUHJvbWlzZXMoZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRpZiAoYXBwbHlPblVwZGF0ZSkge1xuXHRcdFx0XHRcdHJldHVybiBpbnRlcm5hbEFwcGx5KGFwcGx5T25VcGRhdGUpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHNldFN0YXR1cyhcInJlYWR5XCIpO1xuXG5cdFx0XHRcdFx0cmV0dXJuIHVwZGF0ZWRNb2R1bGVzO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fSk7XG59XG5cbmZ1bmN0aW9uIGhvdEFwcGx5KG9wdGlvbnMpIHtcblx0aWYgKGN1cnJlbnRTdGF0dXMgIT09IFwicmVhZHlcIikge1xuXHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uICgpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcImFwcGx5KCkgaXMgb25seSBhbGxvd2VkIGluIHJlYWR5IHN0YXR1c1wiKTtcblx0XHR9KTtcblx0fVxuXHRyZXR1cm4gaW50ZXJuYWxBcHBseShvcHRpb25zKTtcbn1cblxuZnVuY3Rpb24gaW50ZXJuYWxBcHBseShvcHRpb25zKSB7XG5cdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG5cdGFwcGx5SW52YWxpZGF0ZWRNb2R1bGVzKCk7XG5cblx0dmFyIHJlc3VsdHMgPSBjdXJyZW50VXBkYXRlQXBwbHlIYW5kbGVycy5tYXAoZnVuY3Rpb24gKGhhbmRsZXIpIHtcblx0XHRyZXR1cm4gaGFuZGxlcihvcHRpb25zKTtcblx0fSk7XG5cdGN1cnJlbnRVcGRhdGVBcHBseUhhbmRsZXJzID0gdW5kZWZpbmVkO1xuXG5cdHZhciBlcnJvcnMgPSByZXN1bHRzXG5cdFx0Lm1hcChmdW5jdGlvbiAocikge1xuXHRcdFx0cmV0dXJuIHIuZXJyb3I7XG5cdFx0fSlcblx0XHQuZmlsdGVyKEJvb2xlYW4pO1xuXG5cdGlmIChlcnJvcnMubGVuZ3RoID4gMCkge1xuXHRcdHNldFN0YXR1cyhcImFib3J0XCIpO1xuXHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uICgpIHtcblx0XHRcdHRocm93IGVycm9yc1swXTtcblx0XHR9KTtcblx0fVxuXG5cdC8vIE5vdyBpbiBcImRpc3Bvc2VcIiBwaGFzZVxuXHRzZXRTdGF0dXMoXCJkaXNwb3NlXCIpO1xuXG5cdHJlc3VsdHMuZm9yRWFjaChmdW5jdGlvbiAocmVzdWx0KSB7XG5cdFx0aWYgKHJlc3VsdC5kaXNwb3NlKSByZXN1bHQuZGlzcG9zZSgpO1xuXHR9KTtcblxuXHQvLyBOb3cgaW4gXCJhcHBseVwiIHBoYXNlXG5cdHNldFN0YXR1cyhcImFwcGx5XCIpO1xuXG5cdHZhciBlcnJvcjtcblx0dmFyIHJlcG9ydEVycm9yID0gZnVuY3Rpb24gKGVycikge1xuXHRcdGlmICghZXJyb3IpIGVycm9yID0gZXJyO1xuXHR9O1xuXG5cdHZhciBvdXRkYXRlZE1vZHVsZXMgPSBbXTtcblx0cmVzdWx0cy5mb3JFYWNoKGZ1bmN0aW9uIChyZXN1bHQpIHtcblx0XHRpZiAocmVzdWx0LmFwcGx5KSB7XG5cdFx0XHR2YXIgbW9kdWxlcyA9IHJlc3VsdC5hcHBseShyZXBvcnRFcnJvcik7XG5cdFx0XHRpZiAobW9kdWxlcykge1xuXHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG1vZHVsZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRvdXRkYXRlZE1vZHVsZXMucHVzaChtb2R1bGVzW2ldKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fSk7XG5cblx0Ly8gaGFuZGxlIGVycm9ycyBpbiBhY2NlcHQgaGFuZGxlcnMgYW5kIHNlbGYgYWNjZXB0ZWQgbW9kdWxlIGxvYWRcblx0aWYgKGVycm9yKSB7XG5cdFx0c2V0U3RhdHVzKFwiZmFpbFwiKTtcblx0XHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbiAoKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9KTtcblx0fVxuXG5cdGlmIChxdWV1ZWRJbnZhbGlkYXRlZE1vZHVsZXMpIHtcblx0XHRyZXR1cm4gaW50ZXJuYWxBcHBseShvcHRpb25zKS50aGVuKGZ1bmN0aW9uIChsaXN0KSB7XG5cdFx0XHRvdXRkYXRlZE1vZHVsZXMuZm9yRWFjaChmdW5jdGlvbiAobW9kdWxlSWQpIHtcblx0XHRcdFx0aWYgKGxpc3QuaW5kZXhPZihtb2R1bGVJZCkgPCAwKSBsaXN0LnB1c2gobW9kdWxlSWQpO1xuXHRcdFx0fSk7XG5cdFx0XHRyZXR1cm4gbGlzdDtcblx0XHR9KTtcblx0fVxuXG5cdHNldFN0YXR1cyhcImlkbGVcIik7XG5cdHJldHVybiBQcm9taXNlLnJlc29sdmUob3V0ZGF0ZWRNb2R1bGVzKTtcbn1cblxuZnVuY3Rpb24gYXBwbHlJbnZhbGlkYXRlZE1vZHVsZXMoKSB7XG5cdGlmIChxdWV1ZWRJbnZhbGlkYXRlZE1vZHVsZXMpIHtcblx0XHRpZiAoIWN1cnJlbnRVcGRhdGVBcHBseUhhbmRsZXJzKSBjdXJyZW50VXBkYXRlQXBwbHlIYW5kbGVycyA9IFtdO1xuXHRcdE9iamVjdC5rZXlzKF9fd2VicGFja19yZXF1aXJlX18uaG1ySSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdFx0XHRxdWV1ZWRJbnZhbGlkYXRlZE1vZHVsZXMuZm9yRWFjaChmdW5jdGlvbiAobW9kdWxlSWQpIHtcblx0XHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5obXJJW2tleV0oXG5cdFx0XHRcdFx0bW9kdWxlSWQsXG5cdFx0XHRcdFx0Y3VycmVudFVwZGF0ZUFwcGx5SGFuZGxlcnNcblx0XHRcdFx0KTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHRcdHF1ZXVlZEludmFsaWRhdGVkTW9kdWxlcyA9IHVuZGVmaW5lZDtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxufSIsIl9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7IiwiLy8gbm8gYmFzZVVSSVxuXG4vLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGFuZCBsb2FkaW5nIGNodW5rc1xuLy8gdW5kZWZpbmVkID0gY2h1bmsgbm90IGxvYWRlZCwgbnVsbCA9IGNodW5rIHByZWxvYWRlZC9wcmVmZXRjaGVkXG4vLyBQcm9taXNlID0gY2h1bmsgbG9hZGluZywgMCA9IGNodW5rIGxvYWRlZFxudmFyIGluc3RhbGxlZENodW5rcyA9IHtcblx0MTc5OiAwXG59O1xuXG5cbi8vIG5vIGNodW5rIG9uIGRlbWFuZCBsb2FkaW5nXG5cbi8vIG5vIHByZWZldGNoaW5nXG5cbi8vIG5vIHByZWxvYWRlZFxuXG52YXIgY3VycmVudFVwZGF0ZWRNb2R1bGVzTGlzdDtcbnZhciB3YWl0aW5nVXBkYXRlUmVzb2x2ZXMgPSB7fTtcbmZ1bmN0aW9uIGxvYWRVcGRhdGVDaHVuayhjaHVua0lkKSB7XG5cdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0d2FpdGluZ1VwZGF0ZVJlc29sdmVzW2NodW5rSWRdID0gcmVzb2x2ZTtcblx0XHQvLyBzdGFydCB1cGRhdGUgY2h1bmsgbG9hZGluZ1xuXHRcdHZhciB1cmwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBfX3dlYnBhY2tfcmVxdWlyZV9fLmh1KGNodW5rSWQpO1xuXHRcdC8vIGNyZWF0ZSBlcnJvciBiZWZvcmUgc3RhY2sgdW53b3VuZCB0byBnZXQgdXNlZnVsIHN0YWNrdHJhY2UgbGF0ZXJcblx0XHR2YXIgZXJyb3IgPSBuZXcgRXJyb3IoKTtcblx0XHR2YXIgbG9hZGluZ0VuZGVkID0gKGV2ZW50KSA9PiB7XG5cdFx0XHRpZih3YWl0aW5nVXBkYXRlUmVzb2x2ZXNbY2h1bmtJZF0pIHtcblx0XHRcdFx0d2FpdGluZ1VwZGF0ZVJlc29sdmVzW2NodW5rSWRdID0gdW5kZWZpbmVkXG5cdFx0XHRcdHZhciBlcnJvclR5cGUgPSBldmVudCAmJiAoZXZlbnQudHlwZSA9PT0gJ2xvYWQnID8gJ21pc3NpbmcnIDogZXZlbnQudHlwZSk7XG5cdFx0XHRcdHZhciByZWFsU3JjID0gZXZlbnQgJiYgZXZlbnQudGFyZ2V0ICYmIGV2ZW50LnRhcmdldC5zcmM7XG5cdFx0XHRcdGVycm9yLm1lc3NhZ2UgPSAnTG9hZGluZyBob3QgdXBkYXRlIGNodW5rICcgKyBjaHVua0lkICsgJyBmYWlsZWQuXFxuKCcgKyBlcnJvclR5cGUgKyAnOiAnICsgcmVhbFNyYyArICcpJztcblx0XHRcdFx0ZXJyb3IubmFtZSA9ICdDaHVua0xvYWRFcnJvcic7XG5cdFx0XHRcdGVycm9yLnR5cGUgPSBlcnJvclR5cGU7XG5cdFx0XHRcdGVycm9yLnJlcXVlc3QgPSByZWFsU3JjO1xuXHRcdFx0XHRyZWplY3QoZXJyb3IpO1xuXHRcdFx0fVxuXHRcdH07XG5cdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5sKHVybCwgbG9hZGluZ0VuZGVkKTtcblx0fSk7XG59XG5cbnNlbGZbXCJ3ZWJwYWNrSG90VXBkYXRlYWpzXCJdID0gKGNodW5rSWQsIG1vcmVNb2R1bGVzLCBydW50aW1lKSA9PiB7XG5cdGZvcih2YXIgbW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8obW9yZU1vZHVsZXMsIG1vZHVsZUlkKSkge1xuXHRcdFx0Y3VycmVudFVwZGF0ZVttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XG5cdFx0XHRpZihjdXJyZW50VXBkYXRlZE1vZHVsZXNMaXN0KSBjdXJyZW50VXBkYXRlZE1vZHVsZXNMaXN0LnB1c2gobW9kdWxlSWQpO1xuXHRcdH1cblx0fVxuXHRpZihydW50aW1lKSBjdXJyZW50VXBkYXRlUnVudGltZS5wdXNoKHJ1bnRpbWUpO1xuXHRpZih3YWl0aW5nVXBkYXRlUmVzb2x2ZXNbY2h1bmtJZF0pIHtcblx0XHR3YWl0aW5nVXBkYXRlUmVzb2x2ZXNbY2h1bmtJZF0oKTtcblx0XHR3YWl0aW5nVXBkYXRlUmVzb2x2ZXNbY2h1bmtJZF0gPSB1bmRlZmluZWQ7XG5cdH1cbn07XG5cbnZhciBjdXJyZW50VXBkYXRlQ2h1bmtzO1xudmFyIGN1cnJlbnRVcGRhdGU7XG52YXIgY3VycmVudFVwZGF0ZVJlbW92ZWRDaHVua3M7XG52YXIgY3VycmVudFVwZGF0ZVJ1bnRpbWU7XG5mdW5jdGlvbiBhcHBseUhhbmRsZXIob3B0aW9ucykge1xuXHRpZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5mKSBkZWxldGUgX193ZWJwYWNrX3JlcXVpcmVfXy5mLmpzb25wSG1yO1xuXHRjdXJyZW50VXBkYXRlQ2h1bmtzID0gdW5kZWZpbmVkO1xuXHRmdW5jdGlvbiBnZXRBZmZlY3RlZE1vZHVsZUVmZmVjdHModXBkYXRlTW9kdWxlSWQpIHtcblx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW3VwZGF0ZU1vZHVsZUlkXTtcblx0XHR2YXIgb3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSB7fTtcblxuXHRcdHZhciBxdWV1ZSA9IG91dGRhdGVkTW9kdWxlcy5tYXAoZnVuY3Rpb24gKGlkKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRjaGFpbjogW2lkXSxcblx0XHRcdFx0aWQ6IGlkXG5cdFx0XHR9O1xuXHRcdH0pO1xuXHRcdHdoaWxlIChxdWV1ZS5sZW5ndGggPiAwKSB7XG5cdFx0XHR2YXIgcXVldWVJdGVtID0gcXVldWUucG9wKCk7XG5cdFx0XHR2YXIgbW9kdWxlSWQgPSBxdWV1ZUl0ZW0uaWQ7XG5cdFx0XHR2YXIgY2hhaW4gPSBxdWV1ZUl0ZW0uY2hhaW47XG5cdFx0XHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXy5jW21vZHVsZUlkXTtcblx0XHRcdGlmIChcblx0XHRcdFx0IW1vZHVsZSB8fFxuXHRcdFx0XHQobW9kdWxlLmhvdC5fc2VsZkFjY2VwdGVkICYmICFtb2R1bGUuaG90Ll9zZWxmSW52YWxpZGF0ZWQpXG5cdFx0XHQpXG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0aWYgKG1vZHVsZS5ob3QuX3NlbGZEZWNsaW5lZCkge1xuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdHR5cGU6IFwic2VsZi1kZWNsaW5lZFwiLFxuXHRcdFx0XHRcdGNoYWluOiBjaGFpbixcblx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWRcblx0XHRcdFx0fTtcblx0XHRcdH1cblx0XHRcdGlmIChtb2R1bGUuaG90Ll9tYWluKSB7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0dHlwZTogXCJ1bmFjY2VwdGVkXCIsXG5cdFx0XHRcdFx0Y2hhaW46IGNoYWluLFxuXHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZFxuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBtb2R1bGUucGFyZW50cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHR2YXIgcGFyZW50SWQgPSBtb2R1bGUucGFyZW50c1tpXTtcblx0XHRcdFx0dmFyIHBhcmVudCA9IF9fd2VicGFja19yZXF1aXJlX18uY1twYXJlbnRJZF07XG5cdFx0XHRcdGlmICghcGFyZW50KSBjb250aW51ZTtcblx0XHRcdFx0aWYgKHBhcmVudC5ob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSkge1xuXHRcdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHR0eXBlOiBcImRlY2xpbmVkXCIsXG5cdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4uY29uY2F0KFtwYXJlbnRJZF0pLFxuXHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkLFxuXHRcdFx0XHRcdFx0cGFyZW50SWQ6IHBhcmVudElkXG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAob3V0ZGF0ZWRNb2R1bGVzLmluZGV4T2YocGFyZW50SWQpICE9PSAtMSkgY29udGludWU7XG5cdFx0XHRcdGlmIChwYXJlbnQuaG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0pIHtcblx0XHRcdFx0XHRpZiAoIW91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSlcblx0XHRcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSA9IFtdO1xuXHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSwgW21vZHVsZUlkXSk7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZGVsZXRlIG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXTtcblx0XHRcdFx0b3V0ZGF0ZWRNb2R1bGVzLnB1c2gocGFyZW50SWQpO1xuXHRcdFx0XHRxdWV1ZS5wdXNoKHtcblx0XHRcdFx0XHRjaGFpbjogY2hhaW4uY29uY2F0KFtwYXJlbnRJZF0pLFxuXHRcdFx0XHRcdGlkOiBwYXJlbnRJZFxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0dHlwZTogXCJhY2NlcHRlZFwiLFxuXHRcdFx0bW9kdWxlSWQ6IHVwZGF0ZU1vZHVsZUlkLFxuXHRcdFx0b3V0ZGF0ZWRNb2R1bGVzOiBvdXRkYXRlZE1vZHVsZXMsXG5cdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llczogb3V0ZGF0ZWREZXBlbmRlbmNpZXNcblx0XHR9O1xuXHR9XG5cblx0ZnVuY3Rpb24gYWRkQWxsVG9TZXQoYSwgYikge1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgYi5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGl0ZW0gPSBiW2ldO1xuXHRcdFx0aWYgKGEuaW5kZXhPZihpdGVtKSA9PT0gLTEpIGEucHVzaChpdGVtKTtcblx0XHR9XG5cdH1cblxuXHQvLyBhdCBiZWdpbiBhbGwgdXBkYXRlcyBtb2R1bGVzIGFyZSBvdXRkYXRlZFxuXHQvLyB0aGUgXCJvdXRkYXRlZFwiIHN0YXR1cyBjYW4gcHJvcGFnYXRlIHRvIHBhcmVudHMgaWYgdGhleSBkb24ndCBhY2NlcHQgdGhlIGNoaWxkcmVuXG5cdHZhciBvdXRkYXRlZERlcGVuZGVuY2llcyA9IHt9O1xuXHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW107XG5cdHZhciBhcHBsaWVkVXBkYXRlID0ge307XG5cblx0dmFyIHdhcm5VbmV4cGVjdGVkUmVxdWlyZSA9IGZ1bmN0aW9uIHdhcm5VbmV4cGVjdGVkUmVxdWlyZShtb2R1bGUpIHtcblx0XHRjb25zb2xlLndhcm4oXG5cdFx0XHRcIltITVJdIHVuZXhwZWN0ZWQgcmVxdWlyZShcIiArIG1vZHVsZS5pZCArIFwiKSB0byBkaXNwb3NlZCBtb2R1bGVcIlxuXHRcdCk7XG5cdH07XG5cblx0Zm9yICh2YXIgbW9kdWxlSWQgaW4gY3VycmVudFVwZGF0ZSkge1xuXHRcdGlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLm8oY3VycmVudFVwZGF0ZSwgbW9kdWxlSWQpKSB7XG5cdFx0XHR2YXIgbmV3TW9kdWxlRmFjdG9yeSA9IGN1cnJlbnRVcGRhdGVbbW9kdWxlSWRdO1xuXHRcdFx0LyoqIEB0eXBlIHtUT0RPfSAqL1xuXHRcdFx0dmFyIHJlc3VsdDtcblx0XHRcdGlmIChuZXdNb2R1bGVGYWN0b3J5KSB7XG5cdFx0XHRcdHJlc3VsdCA9IGdldEFmZmVjdGVkTW9kdWxlRWZmZWN0cyhtb2R1bGVJZCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXN1bHQgPSB7XG5cdFx0XHRcdFx0dHlwZTogXCJkaXNwb3NlZFwiLFxuXHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZFxuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXHRcdFx0LyoqIEB0eXBlIHtFcnJvcnxmYWxzZX0gKi9cblx0XHRcdHZhciBhYm9ydEVycm9yID0gZmFsc2U7XG5cdFx0XHR2YXIgZG9BcHBseSA9IGZhbHNlO1xuXHRcdFx0dmFyIGRvRGlzcG9zZSA9IGZhbHNlO1xuXHRcdFx0dmFyIGNoYWluSW5mbyA9IFwiXCI7XG5cdFx0XHRpZiAocmVzdWx0LmNoYWluKSB7XG5cdFx0XHRcdGNoYWluSW5mbyA9IFwiXFxuVXBkYXRlIHByb3BhZ2F0aW9uOiBcIiArIHJlc3VsdC5jaGFpbi5qb2luKFwiIC0+IFwiKTtcblx0XHRcdH1cblx0XHRcdHN3aXRjaCAocmVzdWx0LnR5cGUpIHtcblx0XHRcdFx0Y2FzZSBcInNlbGYtZGVjbGluZWRcIjpcblx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkRlY2xpbmVkKSBvcHRpb25zLm9uRGVjbGluZWQocmVzdWx0KTtcblx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRGVjbGluZWQpXG5cdFx0XHRcdFx0XHRhYm9ydEVycm9yID0gbmV3IEVycm9yKFxuXHRcdFx0XHRcdFx0XHRcIkFib3J0ZWQgYmVjYXVzZSBvZiBzZWxmIGRlY2xpbmU6IFwiICtcblx0XHRcdFx0XHRcdFx0XHRyZXN1bHQubW9kdWxlSWQgK1xuXHRcdFx0XHRcdFx0XHRcdGNoYWluSW5mb1xuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBcImRlY2xpbmVkXCI6XG5cdFx0XHRcdFx0aWYgKG9wdGlvbnMub25EZWNsaW5lZCkgb3B0aW9ucy5vbkRlY2xpbmVkKHJlc3VsdCk7XG5cdFx0XHRcdFx0aWYgKCFvcHRpb25zLmlnbm9yZURlY2xpbmVkKVxuXHRcdFx0XHRcdFx0YWJvcnRFcnJvciA9IG5ldyBFcnJvcihcblx0XHRcdFx0XHRcdFx0XCJBYm9ydGVkIGJlY2F1c2Ugb2YgZGVjbGluZWQgZGVwZW5kZW5jeTogXCIgK1xuXHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5tb2R1bGVJZCArXG5cdFx0XHRcdFx0XHRcdFx0XCIgaW4gXCIgK1xuXHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5wYXJlbnRJZCArXG5cdFx0XHRcdFx0XHRcdFx0Y2hhaW5JbmZvXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIFwidW5hY2NlcHRlZFwiOlxuXHRcdFx0XHRcdGlmIChvcHRpb25zLm9uVW5hY2NlcHRlZCkgb3B0aW9ucy5vblVuYWNjZXB0ZWQocmVzdWx0KTtcblx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlVW5hY2NlcHRlZClcblx0XHRcdFx0XHRcdGFib3J0RXJyb3IgPSBuZXcgRXJyb3IoXG5cdFx0XHRcdFx0XHRcdFwiQWJvcnRlZCBiZWNhdXNlIFwiICsgbW9kdWxlSWQgKyBcIiBpcyBub3QgYWNjZXB0ZWRcIiArIGNoYWluSW5mb1xuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBcImFjY2VwdGVkXCI6XG5cdFx0XHRcdFx0aWYgKG9wdGlvbnMub25BY2NlcHRlZCkgb3B0aW9ucy5vbkFjY2VwdGVkKHJlc3VsdCk7XG5cdFx0XHRcdFx0ZG9BcHBseSA9IHRydWU7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgXCJkaXNwb3NlZFwiOlxuXHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRGlzcG9zZWQpIG9wdGlvbnMub25EaXNwb3NlZChyZXN1bHQpO1xuXHRcdFx0XHRcdGRvRGlzcG9zZSA9IHRydWU7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiVW5leGNlcHRpb24gdHlwZSBcIiArIHJlc3VsdC50eXBlKTtcblx0XHRcdH1cblx0XHRcdGlmIChhYm9ydEVycm9yKSB7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0ZXJyb3I6IGFib3J0RXJyb3Jcblx0XHRcdFx0fTtcblx0XHRcdH1cblx0XHRcdGlmIChkb0FwcGx5KSB7XG5cdFx0XHRcdGFwcGxpZWRVcGRhdGVbbW9kdWxlSWRdID0gbmV3TW9kdWxlRmFjdG9yeTtcblx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWRNb2R1bGVzLCByZXN1bHQub3V0ZGF0ZWRNb2R1bGVzKTtcblx0XHRcdFx0Zm9yIChtb2R1bGVJZCBpbiByZXN1bHQub3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcblx0XHRcdFx0XHRpZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5vKHJlc3VsdC5vdXRkYXRlZERlcGVuZGVuY2llcywgbW9kdWxlSWQpKSB7XG5cdFx0XHRcdFx0XHRpZiAoIW91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSlcblx0XHRcdFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdID0gW107XG5cdFx0XHRcdFx0XHRhZGRBbGxUb1NldChcblx0XHRcdFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdLFxuXHRcdFx0XHRcdFx0XHRyZXN1bHQub3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0aWYgKGRvRGlzcG9zZSkge1xuXHRcdFx0XHRhZGRBbGxUb1NldChvdXRkYXRlZE1vZHVsZXMsIFtyZXN1bHQubW9kdWxlSWRdKTtcblx0XHRcdFx0YXBwbGllZFVwZGF0ZVttb2R1bGVJZF0gPSB3YXJuVW5leHBlY3RlZFJlcXVpcmU7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdGN1cnJlbnRVcGRhdGUgPSB1bmRlZmluZWQ7XG5cblx0Ly8gU3RvcmUgc2VsZiBhY2NlcHRlZCBvdXRkYXRlZCBtb2R1bGVzIHRvIHJlcXVpcmUgdGhlbSBsYXRlciBieSB0aGUgbW9kdWxlIHN5c3RlbVxuXHR2YXIgb3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzID0gW107XG5cdGZvciAodmFyIGogPSAwOyBqIDwgb3V0ZGF0ZWRNb2R1bGVzLmxlbmd0aDsgaisrKSB7XG5cdFx0dmFyIG91dGRhdGVkTW9kdWxlSWQgPSBvdXRkYXRlZE1vZHVsZXNbal07XG5cdFx0aWYgKFxuXHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jW291dGRhdGVkTW9kdWxlSWRdICYmXG5cdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmNbb3V0ZGF0ZWRNb2R1bGVJZF0uaG90Ll9zZWxmQWNjZXB0ZWQgJiZcblx0XHRcdC8vIHJlbW92ZWQgc2VsZi1hY2NlcHRlZCBtb2R1bGVzIHNob3VsZCBub3QgYmUgcmVxdWlyZWRcblx0XHRcdGFwcGxpZWRVcGRhdGVbb3V0ZGF0ZWRNb2R1bGVJZF0gIT09IHdhcm5VbmV4cGVjdGVkUmVxdWlyZSAmJlxuXHRcdFx0Ly8gd2hlbiBjYWxsZWQgaW52YWxpZGF0ZSBzZWxmLWFjY2VwdGluZyBpcyBub3QgcG9zc2libGVcblx0XHRcdCFfX3dlYnBhY2tfcmVxdWlyZV9fLmNbb3V0ZGF0ZWRNb2R1bGVJZF0uaG90Ll9zZWxmSW52YWxpZGF0ZWRcblx0XHQpIHtcblx0XHRcdG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcy5wdXNoKHtcblx0XHRcdFx0bW9kdWxlOiBvdXRkYXRlZE1vZHVsZUlkLFxuXHRcdFx0XHRyZXF1aXJlOiBfX3dlYnBhY2tfcmVxdWlyZV9fLmNbb3V0ZGF0ZWRNb2R1bGVJZF0uaG90Ll9yZXF1aXJlU2VsZixcblx0XHRcdFx0ZXJyb3JIYW5kbGVyOiBfX3dlYnBhY2tfcmVxdWlyZV9fLmNbb3V0ZGF0ZWRNb2R1bGVJZF0uaG90Ll9zZWxmQWNjZXB0ZWRcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXG5cdHZhciBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcztcblxuXHRyZXR1cm4ge1xuXHRcdGRpc3Bvc2U6IGZ1bmN0aW9uICgpIHtcblx0XHRcdGN1cnJlbnRVcGRhdGVSZW1vdmVkQ2h1bmtzLmZvckVhY2goZnVuY3Rpb24gKGNodW5rSWQpIHtcblx0XHRcdFx0ZGVsZXRlIGluc3RhbGxlZENodW5rc1tjaHVua0lkXTtcblx0XHRcdH0pO1xuXHRcdFx0Y3VycmVudFVwZGF0ZVJlbW92ZWRDaHVua3MgPSB1bmRlZmluZWQ7XG5cblx0XHRcdHZhciBpZHg7XG5cdFx0XHR2YXIgcXVldWUgPSBvdXRkYXRlZE1vZHVsZXMuc2xpY2UoKTtcblx0XHRcdHdoaWxlIChxdWV1ZS5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdHZhciBtb2R1bGVJZCA9IHF1ZXVlLnBvcCgpO1xuXHRcdFx0XHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXy5jW21vZHVsZUlkXTtcblx0XHRcdFx0aWYgKCFtb2R1bGUpIGNvbnRpbnVlO1xuXG5cdFx0XHRcdHZhciBkYXRhID0ge307XG5cblx0XHRcdFx0Ly8gQ2FsbCBkaXNwb3NlIGhhbmRsZXJzXG5cdFx0XHRcdHZhciBkaXNwb3NlSGFuZGxlcnMgPSBtb2R1bGUuaG90Ll9kaXNwb3NlSGFuZGxlcnM7XG5cdFx0XHRcdGZvciAoaiA9IDA7IGogPCBkaXNwb3NlSGFuZGxlcnMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0XHRkaXNwb3NlSGFuZGxlcnNbal0uY2FsbChudWxsLCBkYXRhKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmhtckRbbW9kdWxlSWRdID0gZGF0YTtcblxuXHRcdFx0XHQvLyBkaXNhYmxlIG1vZHVsZSAodGhpcyBkaXNhYmxlcyByZXF1aXJlcyBmcm9tIHRoaXMgbW9kdWxlKVxuXHRcdFx0XHRtb2R1bGUuaG90LmFjdGl2ZSA9IGZhbHNlO1xuXG5cdFx0XHRcdC8vIHJlbW92ZSBtb2R1bGUgZnJvbSBjYWNoZVxuXHRcdFx0XHRkZWxldGUgX193ZWJwYWNrX3JlcXVpcmVfXy5jW21vZHVsZUlkXTtcblxuXHRcdFx0XHQvLyB3aGVuIGRpc3Bvc2luZyB0aGVyZSBpcyBubyBuZWVkIHRvIGNhbGwgZGlzcG9zZSBoYW5kbGVyXG5cdFx0XHRcdGRlbGV0ZSBvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF07XG5cblx0XHRcdFx0Ly8gcmVtb3ZlIFwicGFyZW50c1wiIHJlZmVyZW5jZXMgZnJvbSBhbGwgY2hpbGRyZW5cblx0XHRcdFx0Zm9yIChqID0gMDsgaiA8IG1vZHVsZS5jaGlsZHJlbi5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRcdHZhciBjaGlsZCA9IF9fd2VicGFja19yZXF1aXJlX18uY1ttb2R1bGUuY2hpbGRyZW5bal1dO1xuXHRcdFx0XHRcdGlmICghY2hpbGQpIGNvbnRpbnVlO1xuXHRcdFx0XHRcdGlkeCA9IGNoaWxkLnBhcmVudHMuaW5kZXhPZihtb2R1bGVJZCk7XG5cdFx0XHRcdFx0aWYgKGlkeCA+PSAwKSB7XG5cdFx0XHRcdFx0XHRjaGlsZC5wYXJlbnRzLnNwbGljZShpZHgsIDEpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyByZW1vdmUgb3V0ZGF0ZWQgZGVwZW5kZW5jeSBmcm9tIG1vZHVsZSBjaGlsZHJlblxuXHRcdFx0dmFyIGRlcGVuZGVuY3k7XG5cdFx0XHRmb3IgKHZhciBvdXRkYXRlZE1vZHVsZUlkIGluIG91dGRhdGVkRGVwZW5kZW5jaWVzKSB7XG5cdFx0XHRcdGlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLm8ob3V0ZGF0ZWREZXBlbmRlbmNpZXMsIG91dGRhdGVkTW9kdWxlSWQpKSB7XG5cdFx0XHRcdFx0bW9kdWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXy5jW291dGRhdGVkTW9kdWxlSWRdO1xuXHRcdFx0XHRcdGlmIChtb2R1bGUpIHtcblx0XHRcdFx0XHRcdG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzID1cblx0XHRcdFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXNbb3V0ZGF0ZWRNb2R1bGVJZF07XG5cdFx0XHRcdFx0XHRmb3IgKGogPSAwOyBqIDwgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0XHRcdFx0ZGVwZW5kZW5jeSA9IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2pdO1xuXHRcdFx0XHRcdFx0XHRpZHggPSBtb2R1bGUuY2hpbGRyZW4uaW5kZXhPZihkZXBlbmRlbmN5KTtcblx0XHRcdFx0XHRcdFx0aWYgKGlkeCA+PSAwKSBtb2R1bGUuY2hpbGRyZW4uc3BsaWNlKGlkeCwgMSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRhcHBseTogZnVuY3Rpb24gKHJlcG9ydEVycm9yKSB7XG5cdFx0XHQvLyBpbnNlcnQgbmV3IGNvZGVcblx0XHRcdGZvciAodmFyIHVwZGF0ZU1vZHVsZUlkIGluIGFwcGxpZWRVcGRhdGUpIHtcblx0XHRcdFx0aWYgKF9fd2VicGFja19yZXF1aXJlX18ubyhhcHBsaWVkVXBkYXRlLCB1cGRhdGVNb2R1bGVJZCkpIHtcblx0XHRcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLm1bdXBkYXRlTW9kdWxlSWRdID0gYXBwbGllZFVwZGF0ZVt1cGRhdGVNb2R1bGVJZF07XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gcnVuIG5ldyBydW50aW1lIG1vZHVsZXNcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgY3VycmVudFVwZGF0ZVJ1bnRpbWUubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0Y3VycmVudFVwZGF0ZVJ1bnRpbWVbaV0oX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGNhbGwgYWNjZXB0IGhhbmRsZXJzXG5cdFx0XHRmb3IgKHZhciBvdXRkYXRlZE1vZHVsZUlkIGluIG91dGRhdGVkRGVwZW5kZW5jaWVzKSB7XG5cdFx0XHRcdGlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLm8ob3V0ZGF0ZWREZXBlbmRlbmNpZXMsIG91dGRhdGVkTW9kdWxlSWQpKSB7XG5cdFx0XHRcdFx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19yZXF1aXJlX18uY1tvdXRkYXRlZE1vZHVsZUlkXTtcblx0XHRcdFx0XHRpZiAobW9kdWxlKSB7XG5cdFx0XHRcdFx0XHRtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcyA9XG5cdFx0XHRcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzW291dGRhdGVkTW9kdWxlSWRdO1xuXHRcdFx0XHRcdFx0dmFyIGNhbGxiYWNrcyA9IFtdO1xuXHRcdFx0XHRcdFx0dmFyIGRlcGVuZGVuY2llc0ZvckNhbGxiYWNrcyA9IFtdO1xuXHRcdFx0XHRcdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRcdFx0XHR2YXIgZGVwZW5kZW5jeSA9IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2pdO1xuXHRcdFx0XHRcdFx0XHR2YXIgYWNjZXB0Q2FsbGJhY2sgPVxuXHRcdFx0XHRcdFx0XHRcdG1vZHVsZS5ob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW2RlcGVuZGVuY3ldO1xuXHRcdFx0XHRcdFx0XHRpZiAoYWNjZXB0Q2FsbGJhY2spIHtcblx0XHRcdFx0XHRcdFx0XHRpZiAoY2FsbGJhY2tzLmluZGV4T2YoYWNjZXB0Q2FsbGJhY2spICE9PSAtMSkgY29udGludWU7XG5cdFx0XHRcdFx0XHRcdFx0Y2FsbGJhY2tzLnB1c2goYWNjZXB0Q2FsbGJhY2spO1xuXHRcdFx0XHRcdFx0XHRcdGRlcGVuZGVuY2llc0ZvckNhbGxiYWNrcy5wdXNoKGRlcGVuZGVuY3kpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRmb3IgKHZhciBrID0gMDsgayA8IGNhbGxiYWNrcy5sZW5ndGg7IGsrKykge1xuXHRcdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRcdGNhbGxiYWNrc1trXS5jYWxsKG51bGwsIG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzKTtcblx0XHRcdFx0XHRcdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25FcnJvcmVkKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRvcHRpb25zLm9uRXJyb3JlZCh7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHR5cGU6IFwiYWNjZXB0LWVycm9yZWRcIixcblx0XHRcdFx0XHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG91dGRhdGVkTW9kdWxlSWQsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGRlcGVuZGVuY3lJZDogZGVwZW5kZW5jaWVzRm9yQ2FsbGJhY2tzW2tdLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRlcnJvcjogZXJyXG5cdFx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmlnbm9yZUVycm9yZWQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHJlcG9ydEVycm9yKGVycik7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIExvYWQgc2VsZiBhY2NlcHRlZCBtb2R1bGVzXG5cdFx0XHRmb3IgKHZhciBvID0gMDsgbyA8IG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcy5sZW5ndGg7IG8rKykge1xuXHRcdFx0XHR2YXIgaXRlbSA9IG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlc1tvXTtcblx0XHRcdFx0dmFyIG1vZHVsZUlkID0gaXRlbS5tb2R1bGU7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0aXRlbS5yZXF1aXJlKG1vZHVsZUlkKTtcblx0XHRcdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRcdFx0aWYgKHR5cGVvZiBpdGVtLmVycm9ySGFuZGxlciA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRpdGVtLmVycm9ySGFuZGxlcihlcnIpO1xuXHRcdFx0XHRcdFx0fSBjYXRjaCAoZXJyMikge1xuXHRcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkVycm9yZWQpIHtcblx0XHRcdFx0XHRcdFx0XHRvcHRpb25zLm9uRXJyb3JlZCh7XG5cdFx0XHRcdFx0XHRcdFx0XHR0eXBlOiBcInNlbGYtYWNjZXB0LWVycm9yLWhhbmRsZXItZXJyb3JlZFwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkLFxuXHRcdFx0XHRcdFx0XHRcdFx0ZXJyb3I6IGVycjIsXG5cdFx0XHRcdFx0XHRcdFx0XHRvcmlnaW5hbEVycm9yOiBlcnJcblx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRXJyb3JlZCkge1xuXHRcdFx0XHRcdFx0XHRcdHJlcG9ydEVycm9yKGVycjIpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdHJlcG9ydEVycm9yKGVycik7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRXJyb3JlZCkge1xuXHRcdFx0XHRcdFx0XHRvcHRpb25zLm9uRXJyb3JlZCh7XG5cdFx0XHRcdFx0XHRcdFx0dHlwZTogXCJzZWxmLWFjY2VwdC1lcnJvcmVkXCIsXG5cdFx0XHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkLFxuXHRcdFx0XHRcdFx0XHRcdGVycm9yOiBlcnJcblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRXJyb3JlZCkge1xuXHRcdFx0XHRcdFx0XHRyZXBvcnRFcnJvcihlcnIpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gb3V0ZGF0ZWRNb2R1bGVzO1xuXHRcdH1cblx0fTtcbn1cbl9fd2VicGFja19yZXF1aXJlX18uaG1ySS5qc29ucCA9IGZ1bmN0aW9uIChtb2R1bGVJZCwgYXBwbHlIYW5kbGVycykge1xuXHRpZiAoIWN1cnJlbnRVcGRhdGUpIHtcblx0XHRjdXJyZW50VXBkYXRlID0ge307XG5cdFx0Y3VycmVudFVwZGF0ZVJ1bnRpbWUgPSBbXTtcblx0XHRjdXJyZW50VXBkYXRlUmVtb3ZlZENodW5rcyA9IFtdO1xuXHRcdGFwcGx5SGFuZGxlcnMucHVzaChhcHBseUhhbmRsZXIpO1xuXHR9XG5cdGlmICghX193ZWJwYWNrX3JlcXVpcmVfXy5vKGN1cnJlbnRVcGRhdGUsIG1vZHVsZUlkKSkge1xuXHRcdGN1cnJlbnRVcGRhdGVbbW9kdWxlSWRdID0gX193ZWJwYWNrX3JlcXVpcmVfXy5tW21vZHVsZUlkXTtcblx0fVxufTtcbl9fd2VicGFja19yZXF1aXJlX18uaG1yQy5qc29ucCA9IGZ1bmN0aW9uIChcblx0Y2h1bmtJZHMsXG5cdHJlbW92ZWRDaHVua3MsXG5cdHJlbW92ZWRNb2R1bGVzLFxuXHRwcm9taXNlcyxcblx0YXBwbHlIYW5kbGVycyxcblx0dXBkYXRlZE1vZHVsZXNMaXN0XG4pIHtcblx0YXBwbHlIYW5kbGVycy5wdXNoKGFwcGx5SGFuZGxlcik7XG5cdGN1cnJlbnRVcGRhdGVDaHVua3MgPSB7fTtcblx0Y3VycmVudFVwZGF0ZVJlbW92ZWRDaHVua3MgPSByZW1vdmVkQ2h1bmtzO1xuXHRjdXJyZW50VXBkYXRlID0gcmVtb3ZlZE1vZHVsZXMucmVkdWNlKGZ1bmN0aW9uIChvYmosIGtleSkge1xuXHRcdG9ialtrZXldID0gZmFsc2U7XG5cdFx0cmV0dXJuIG9iajtcblx0fSwge30pO1xuXHRjdXJyZW50VXBkYXRlUnVudGltZSA9IFtdO1xuXHRjaHVua0lkcy5mb3JFYWNoKGZ1bmN0aW9uIChjaHVua0lkKSB7XG5cdFx0aWYgKFxuXHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vKGluc3RhbGxlZENodW5rcywgY2h1bmtJZCkgJiZcblx0XHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkXSAhPT0gdW5kZWZpbmVkXG5cdFx0KSB7XG5cdFx0XHRwcm9taXNlcy5wdXNoKGxvYWRVcGRhdGVDaHVuayhjaHVua0lkLCB1cGRhdGVkTW9kdWxlc0xpc3QpKTtcblx0XHRcdGN1cnJlbnRVcGRhdGVDaHVua3NbY2h1bmtJZF0gPSB0cnVlO1xuXHRcdH1cblx0fSk7XG5cdGlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLmYpIHtcblx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmYuanNvbnBIbXIgPSBmdW5jdGlvbiAoY2h1bmtJZCwgcHJvbWlzZXMpIHtcblx0XHRcdGlmIChcblx0XHRcdFx0Y3VycmVudFVwZGF0ZUNodW5rcyAmJlxuXHRcdFx0XHQhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGN1cnJlbnRVcGRhdGVDaHVua3MsIGNodW5rSWQpICYmXG5cdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX18ubyhpbnN0YWxsZWRDaHVua3MsIGNodW5rSWQpICYmXG5cdFx0XHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkXSAhPT0gdW5kZWZpbmVkXG5cdFx0XHQpIHtcblx0XHRcdFx0cHJvbWlzZXMucHVzaChsb2FkVXBkYXRlQ2h1bmsoY2h1bmtJZCkpO1xuXHRcdFx0XHRjdXJyZW50VXBkYXRlQ2h1bmtzW2NodW5rSWRdID0gdHJ1ZTtcblx0XHRcdH1cblx0XHR9O1xuXHR9XG59O1xuXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmhtck0gPSAoKSA9PiB7XG5cdGlmICh0eXBlb2YgZmV0Y2ggPT09IFwidW5kZWZpbmVkXCIpIHRocm93IG5ldyBFcnJvcihcIk5vIGJyb3dzZXIgc3VwcG9ydDogbmVlZCBmZXRjaCBBUElcIik7XG5cdHJldHVybiBmZXRjaChfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBfX3dlYnBhY2tfcmVxdWlyZV9fLmhtckYoKSkudGhlbigocmVzcG9uc2UpID0+IHtcblx0XHRpZihyZXNwb25zZS5zdGF0dXMgPT09IDQwNCkgcmV0dXJuOyAvLyBubyB1cGRhdGUgYXZhaWxhYmxlXG5cdFx0aWYoIXJlc3BvbnNlLm9rKSB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gZmV0Y2ggdXBkYXRlIG1hbmlmZXN0IFwiICsgcmVzcG9uc2Uuc3RhdHVzVGV4dCk7XG5cdFx0cmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcblx0fSk7XG59O1xuXG4vLyBubyBkZWZlcnJlZCBzdGFydHVwXG5cbi8vIG5vIGpzb25wIGZ1bmN0aW9uXG5cbi8vIG5vIGRlZmVycmVkIHN0YXJ0dXAiLCIvLyBtb2R1bGUgY2FjaGUgYXJlIHVzZWQgc28gZW50cnkgaW5saW5pbmcgaXMgZGlzYWJsZWRcbi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlXG5fX3dlYnBhY2tfcmVxdWlyZV9fKDQ5MSk7XG4iXSwic291cmNlUm9vdCI6IiJ9